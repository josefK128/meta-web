[04:51:17.579] {"t":"camera3d","f":"place","a":12},
[04:51:17.673] {"t":"camerasphere","f":"create","a":"csphere"},
[04:51:17.673] {"t":"camerasphere","f":"children","a":1},
[04:51:36.749] {"a":"mediator[action.t] = [object Object]"},
[04:51:36.765] {"a":"target = [object Object]"},
[04:51:36.767] {"a":"f = function (scene) {\n        var $__0 = this;\n        var abs_values = [],\n            abs_params = {},\n            abs_url,\n            i = 0;\n        console.log((\"\\n++++ change_scene(\" + scene + \")\"));\n        if (scene !== this.scene) {\n          $timeout((function() {\n            $rootScope.$apply((function() {\n              $__0.scene = scene;\n            }));\n          }));\n          this.scene = scene;\n        }\n        console.log((\"previous: this.stateObj.scene = \" + this.stateObj.scene));\n        console.log((\"change: this.scene = \" + this.scene));\n        if (this.scene !== this.stateObj.scene) {\n          abs_params = config.scenes[this.scene];\n          var $__5 = true;\n          var $__6 = false;\n          var $__7 = undefined;\n          try {\n            for (var $__3 = void 0,\n                $__2 = (this.terms)[$traceurRuntime.toProperty(Symbol.iterator)](); !($__5 = ($__3 = $__2.next()).done); $__5 = true) {\n              var p = $__3.value;\n              {\n                abs_values[i++] = abs_params[p];\n              }\n            }\n          } catch ($__8) {\n            $__6 = true;\n            $__7 = $__8;\n          } finally {\n            try {\n              if (!$__5 && $__2.return != null) {\n                $__2.return();\n              }\n            } finally {\n              if ($__6) {\n                throw $__7;\n              }\n            }\n          }\n          abs_url = '/';\n          abs_url += abs_values.join('/');\n          this.change_shot(abs_url);\n        }\n      }"},
[04:51:36.767] {"a":"~~~~ change_state() url = /circle:/i3d-simple:simple_red/i2d-scene:disks0/base-skycube:test_cube/ui-msgbg:/shot-graft:a0"},
[04:51:36.767] {"a":"~~~~ change_state() this.prev_url = ^"},
[04:51:36.767] {"t":"mediator","f":"socket.emit.actions","a":{"t":"narrative","f":"change_scene","a":"circle"}},
[04:51:37.275] {"t":"Mediator","f":"component","a":"narrative"},
[04:51:37.275] {"t":"app","f":"onEnter","a":{"name":"circle:"}},
[04:51:37.275] {"t":"app","f":"onEnter","a":{"name":"i3d-simple:simple_red"}},
[04:51:37.276] {"t":"camera3d","f":"changeTemplateScene"},
[04:51:37.276] {"t":"app","f":"onEnter","a":{"name":"i2d-scene:disks0"}},
[04:51:37.276] {"t":"app","f":"onEnter","a":{"name":"base-skycube:test_cube"}},
[04:51:37.277] {"t":"app","f":"onEnter","a":{"name":"shot-graft:a0"}},
[04:51:37.278] {"t":"camera3d","f":"addActorToScene","a":"csphere"},
[04:51:37.278] {"t":"camera3d","f":"addActorToScene","a":"cube0_0"},
[04:51:37.279] {"t":"camera3d","f":"addActorToScene","a":"cube0_1"},
[04:51:37.280] {"a":"mediator[action.t] = [object Object]"},
[04:51:37.280] {"a":"target = [object Object]"},
[04:51:37.278] {"t":"camera3d","f":"addActorToScene","a":"cube0"},
[04:51:37.280] {"a":"f = function () {\n        mediator.queue.ready = true;\n        mediator.next();\n      }"},
[04:51:37.277] {"t":"timeline","f":"play"},
[04:51:46.747] {"a":"mediator[action.t] = [object Object]"},
[04:51:46.758] {"a":"target = [object Object]"},
[04:51:46.765] {"a":"f = function (url) {\n        var $__0 = this;\n        var params = {},\n            values = [],\n            abs_params = {},\n            abs_values = [],\n            delta_values = [],\n            i = 0;\n        console.log((\"\\n~~~~ change_state() url = \" + url));\n        console.log((\"~~~~ change_state() this.prev_url = \" + this.prev_url));\n        Log.log({a: (\"~~~~ change_state() url = \" + url)});\n        Log.log({a: (\"~~~~ change_state() this.prev_url = \" + this.prev_url)});\n        this.stateObj = {};\n        this.stateObj.abs_params = {};\n        this.stateObj.delta_params = {};\n        this.frame += 1;\n        this.stateObj.frame = this.frame;\n        values = url.slice(1).split('/');\n        var $__5 = true;\n        var $__6 = false;\n        var $__7 = undefined;\n        try {\n          for (var $__3 = void 0,\n              $__2 = (this.terms)[$traceurRuntime.toProperty(Symbol.iterator)](); !($__5 = ($__3 = $__2.next()).done); $__5 = true) {\n            var p = $__3.value;\n            {\n              params[p] = values[i];\n              i += 1;\n            }\n          }\n        } catch ($__8) {\n          $__6 = true;\n          $__7 = $__8;\n        } finally {\n          try {\n            if (!$__5 && $__2.return != null) {\n              $__2.return();\n            }\n          } finally {\n            if ($__6) {\n              throw $__7;\n            }\n          }\n        }\n        abs_params = this.metastate.stateObj.abs_params;\n        i = 0;\n        var $__12 = true;\n        var $__13 = false;\n        var $__14 = undefined;\n        try {\n          for (var $__10 = void 0,\n              $__9 = (this.terms)[$traceurRuntime.toProperty(Symbol.iterator)](); !($__12 = ($__10 = $__9.next()).done); $__12 = true) {\n            var p$__46 = $__10.value;\n            {\n              console.log((\"this.terms has term[\" + i + \"] = \" + p$__46));\n              console.log((\"params[\" + p$__46 + \"] = \" + params[p$__46]));\n              if (params[p$__46].length > 1) {\n                this.stateObj.abs_params[p$__46] = params[p$__46];\n                abs_values[i] = params[p$__46];\n              } else {\n                this.stateObj.abs_params[p$__46] = abs_params[p$__46];\n              }\n              i += 1;\n            }\n          }\n        } catch ($__15) {\n          $__13 = true;\n          $__14 = $__15;\n        } finally {\n          try {\n            if (!$__12 && $__9.return != null) {\n              $__9.return();\n            }\n          } finally {\n            if ($__13) {\n              throw $__14;\n            }\n          }\n        }\n        i = 0;\n        this.stateObj.delta_params = {};\n        var $__19 = true;\n        var $__20 = false;\n        var $__21 = undefined;\n        try {\n          for (var $__17 = void 0,\n              $__16 = (this.terms)[$traceurRuntime.toProperty(Symbol.iterator)](); !($__19 = ($__17 = $__16.next()).done); $__19 = true) {\n            var p$__47 = $__17.value;\n            {\n              this.stateObj.delta_params[p$__47] = \"\";\n              delta_values[i] = \"\";\n              i += 1;\n            }\n          }\n        } catch ($__22) {\n          $__20 = true;\n          $__21 = $__22;\n        } finally {\n          try {\n            if (!$__19 && $__16.return != null) {\n              $__16.return();\n            }\n          } finally {\n            if ($__20) {\n              throw $__21;\n            }\n          }\n        }\n        i = 0;\n        var $__26 = true;\n        var $__27 = false;\n        var $__28 = undefined;\n        try {\n          for (var $__24 = void 0,\n              $__23 = (this.terms)[$traceurRuntime.toProperty(Symbol.iterator)](); !($__26 = ($__24 = $__23.next()).done); $__26 = true) {\n            var p$__48 = $__24.value;\n            {\n              if (params[p$__48].length > 0) {\n                if (params[p$__48] !== abs_params[p$__48]) {\n                  this.stateObj.delta_params[p$__48] = params[p$__48];\n                  delta_values[i] = params[p$__48];\n                }\n              }\n              i += 1;\n            }\n          }\n        } catch ($__29) {\n          $__27 = true;\n          $__28 = $__29;\n        } finally {\n          try {\n            if (!$__26 && $__23.return != null) {\n              $__23.return();\n            }\n          } finally {\n            if ($__27) {\n              throw $__28;\n            }\n          }\n        }\n        this.stateObj.scene = this.stateObj.abs_params['scene'].split(\":\")[0];\n        this.stateObj.abs_url = '/';\n        this.stateObj.delta_url = '/';\n        this.stateObj.abs_url += abs_values.join('/');\n        this.stateObj.delta_url += delta_values.join('/');\n        this.stateObj.control_state = this.control_state;\n        $timeout((function() {\n          $rootScope.$apply((function() {\n            $__0.scene = $__0.stateObj.scene;\n            $__0.scope().ui.scene = $__0.scene;\n          }));\n        }));\n        this.metastate.stateObjp = this.metastate.stateObj;\n        this.metastate.stateObj = this.stateObj;\n        this.backfwd = false;\n        this.sequence[this.stateObj.delta_url] = this.frame;\n        this.sequence[this.frame] = this.stateObj;\n        console.log((\"ch_st(): $location.url(\" + this.stateObj.delta_url + \")\"));\n        $location.url(this.stateObj.delta_url);\n        history.replaceState(this.stateObj, this.scene);\n      }"},
[04:51:46.765] {"a":"~~~~ change_state() url = /circle:/i3d-simple:simple_red/i2d-scene:mf2d0/base-skycube:test_cube/ui-msgbg/MS"},
[04:51:46.766] {"a":"~~~~ change_state() this.prev_url = /circle:/i3d-simple:simple_red/i2d-scene:disks0/base-skycube:test_cube//shot-graft:a0"},
[04:51:46.766] {"t":"mediator","f":"socket.emit.actions","a":{"t":"narrative","f":"change_state","a":"/circle:/i3d-simple:simple_red/i2d-scene:mf2d0/base-skycube:test_cube/ui-msgbg/MS"}},
[04:51:47.001] {"t":"Mediator","f":"component","a":"narrative"},
[04:51:47.002] {"t":"app","f":"onEnter","a":{"name":"i2d-scene:mf2d0"}},
[04:51:47.002] {"t":"app","f":"onEnter","a":{"name":"ui-msgbg"}},
[04:51:47.002] {"t":"app","f":"onEnter","a":{"name":"MS"}},
[04:51:47.002] {"t":"timeline","f":"play"},
[04:51:47.003] {"a":"mediator[action.t] = [object Object]"},
[04:51:47.003] {"a":"target = [object Object]"},
[04:51:47.003] {"a":"f = function () {\n        mediator.queue.ready = true;\n        mediator.next();\n      }"},
[04:52:01.748] {"a":"mediator[action.t] = [object Object]"},
[04:52:01.770] {"a":"target = [object Object]"},
[04:52:01.771] {"a":"f = function (scene) {\n        var $__0 = this;\n        var abs_values = [],\n            abs_params = {},\n            abs_url,\n            i = 0;\n        console.log((\"\\n++++ change_scene(\" + scene + \")\"));\n        if (scene !== this.scene) {\n          $timeout((function() {\n            $rootScope.$apply((function() {\n              $__0.scene = scene;\n            }));\n          }));\n          this.scene = scene;\n        }\n        console.log((\"previous: this.stateObj.scene = \" + this.stateObj.scene));\n        console.log((\"change: this.scene = \" + this.scene));\n        if (this.scene !== this.stateObj.scene) {\n          abs_params = config.scenes[this.scene];\n          var $__5 = true;\n          var $__6 = false;\n          var $__7 = undefined;\n          try {\n            for (var $__3 = void 0,\n                $__2 = (this.terms)[$traceurRuntime.toProperty(Symbol.iterator)](); !($__5 = ($__3 = $__2.next()).done); $__5 = true) {\n              var p = $__3.value;\n              {\n                abs_values[i++] = abs_params[p];\n              }\n            }\n          } catch ($__8) {\n            $__6 = true;\n            $__7 = $__8;\n          } finally {\n            try {\n              if (!$__5 && $__2.return != null) {\n                $__2.return();\n              }\n            } finally {\n              if ($__6) {\n                throw $__7;\n              }\n            }\n          }\n          abs_url = '/';\n          abs_url += abs_values.join('/');\n          this.change_shot(abs_url);\n        }\n      }"},
[04:52:01.771] {"a":"~~~~ change_state() url = /stocks:/i3d-jsonmodels:phonghead_kfb/i2d-scene:defsuse0/grid:/ui-msgbg:/2S:"},
[04:52:01.771] {"a":"~~~~ change_state() this.prev_url = ///i2d-scene:mf2d0//ui-msgbg/MS"},
[04:52:01.772] {"t":"mediator","f":"socket.emit.actions","a":{"t":"narrative","f":"change_scene","a":"stocks"}},
[04:52:03.094] {"t":"Mediator","f":"component","a":"narrative"},
[04:52:03.097] {"t":"app","f":"onEnter","a":{"name":"stocks:"}},
[04:52:03.098] {"t":"app","f":"onEnter","a":{"name":"i3d-jsonmodels:phonghead_kfb"}},
[04:52:03.098] {"t":"camera3d","f":"changeTemplateScene"},
[04:52:03.098] {"t":"app","f":"onEnter","a":{"name":"i2d-scene:defsuse0"}},
[04:52:03.098] {"t":"app","f":"onEnter","a":{"name":"grid:"}},
[04:52:03.098] {"t":"app","f":"onEnter","a":{"name":"ui-msgbg:"}},
[04:52:03.098] {"t":"app","f":"onEnter","a":{"name":"2S:"}},
[04:52:03.099] {"t":"timeline","f":"play"},
[04:52:03.099] {"t":"camera3d","f":"addActorToScene","a":"axes0"},
[04:52:03.099] {"t":"camera3d","f":"addActorToScene","a":"csphere"},
[04:52:03.100] {"t":"camera3d","f":"addActorToScene","a":"axes0"},
[04:52:03.100] {"t":"camera3d","f":"addActorToScene","a":"key"},
[04:52:03.100] {"t":"camera3d","f":"addActorToScene","a":"fill"},
[04:52:03.100] {"t":"camera3d","f":"addActorToScene","a":"back"},
[04:52:03.100] {"t":"camera3d","f":"addActorToScene","a":"key"},
[04:52:03.100] {"t":"camera3d","f":"addActorToScene","a":"fill"},
[04:52:03.101] {"t":"camera3d","f":"addActorToScene","a":"back"},
[04:52:03.101] {"a":"mediator[action.t] = [object Object]"},
[04:52:03.101] {"a":"target = [object Object]"},
[04:52:03.101] {"a":"f = function () {\n        mediator.queue.ready = true;\n        mediator.next();\n      }"},
[04:52:03.411] {"t":"camera3d","f":"addActorToScene","a":"head_scan"},
[04:52:03.828] {"t":"camera3d","f":"addActorToScene","a":"head_scan"},
[04:52:16.752] {"a":"mediator[action.t] = [object Object]"},
[04:52:16.758] {"a":"target = [object Object]"},
[04:52:16.759] {"a":"f = function (url) {\n    if (isUndefined(url)) {\n      return this.$$url;\n    }\n\n    var match = PATH_MATCH.exec(url);\n    if (match[1] || url === '') this.path(decodeURIComponent(match[1]));\n    if (match[2] || match[1] || url === '') this.search(match[3] || '');\n    this.hash(match[5] || '');\n\n    return this;\n  }"},
[04:52:16.759] {"a":"action.a is array with l = 1"},
[04:52:16.759] {"a":"target[action.f](action.a[0]) returned r = [object Object]"},
[04:52:16.759] {"a":"r === mediator.location is true"},
[04:52:16.760] {"t":"mediator","f":"socket.emit.actions","a":{"t":"location","f":"url","a":["escher://i2d-scene:mf2d0///"]}},
