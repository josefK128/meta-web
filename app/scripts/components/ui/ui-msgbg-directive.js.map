{"version":3,"names":[],"mappings":"","sources":["components/ui/ui-msgbg-directive.js"],"sourcesContent":["// * ui-msgbg-directive.js \n// * dynamic UI template with associated controller-viewmodel  \n//\n// * @dependencies: $timeout and $rootScope - for $apply to update UI controls<br>\n//   @param {angular.$timeout} $timeout<br>\n//   @param {angular.$rootScope} $rootScope<br>\n//   @param {angular.$templateCache} $templateCache<br>\n//   @param {app/services/mediator-service} Mediator<br>\n//   @ngInject\n//\n// * NOTE: ngInject is used by ngAnnotate to generate a \n//   minification-safe injection annotation such as:\n//   ```function($scope) => ['$scope', function($scope){}]```\n\n\nangular.module('app')\n  .directive('uiMsgbg', [\"$templateCache\", \"$rootScope\", \"$timeout\", \"Mediator\", function($templateCache, $rootScope, $timeout, \n    Mediator) {\n  'use strict';\n\n\n  class Msgbg {\n    constructor(){}\n\n    msg_changed(){\n    }\n  }\n\n\n  // return directive definition object - DDO\n  return {\n    restrict: 'E',      // element\n    replace: true,      // replace <ui-msgbg> with compiled template\n\n    templateNamespace: 'html',\n    template: \"<div ng-style='{background: msgbg.bgcolor}'\" +\n    \"style='transform:translateX(-26%) scaleX(.5)' >\" +\n    \"<input type='text' ng-model='msgbg.msg' ng-change='msgbg.msg_changed()'>\" +\n     \"m.bgc:{{msgbg.bgcolor}} \" + \"ui.bgc:{{$parent.ui.bgcolor}}</div>\",\n  \n    // to use bindToC scope must be isolated ({}) or child (true)<br>\n    // If isolated scope {} then reference narrative.bgcolor must be \n    // $parent.narrative.bgcolor (parent is root)<br>\n    // $parent.narrative.bgcolor works for both {} and child scoping\n    scope: {},        \n    controller: Msgbg,      // instance of Class-ctor Msgbg\n    controllerAs: 'msgbg',  // standard name for component controller instance\n\n    // binds specified scope-references used by template properties<br>\n    // use same name in template parent controller and child controller\n    // * '=' => properties are 'double-bound' between controllers and template\n    // * '@' => parent properties are written to the template' \n    //    but there is no sync between them\n    bindToController: {\n      bgcolor: '=',         \n      msg: '='         \n    },\n\n    // link-f unused except for diagnostics\n    link(scope, el, attrs, msgbg){\n\n      // set id on controller\n      // * NOTE: attributes of directive are merged with template attributes\n      //   see 'bgcolor' - defined in both but has template value \n      msgbg.id = attrs['id'];\n\n      // expt: set msgbg.id = msgbg.bgcolor = green \n      $timeout(function(){\n        scope.$apply(function(){\n          msgbg.bgcolor = 'green';\n        });\n      }, 2000);\n\n      // expt: set msgbg.id = msgbg.bgcolor = yellow \n      $timeout(function(){\n        scope.$apply(function(){\n          msgbg.bgcolor = 'yellow';\n        });\n      }, 4000);\n\n    }//link-f\n  };//return DDO\n}]);\n"],"file":"components/ui/ui-msgbg-directive.js","sourceRoot":"/source/"}