"use strict";angular.module("app",["ui.router","ui.grid"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,r){r.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1}),t.otherwise("/");var o={url:"^/{scene}/{i3d}/{i2d}/{base}/{ui}/{shot}",onEnter:function(){var e,t,r,a,n,i,c,l,s,u=o.stateObj.delta_params;l=o.narrative||o.Mediator.component("narrative"),e=e||l.scope(),c=c||o.Camera3d;var d=!0,v=!1,m=void 0;try{for(var h=void 0,f=Object.keys(u)[$traceurRuntime.toProperty(Symbol.iterator)]();!(d=(h=f.next()).done);d=!0){var g=h.value;if(u[g].length>0)switch(t=u[g],r=t.split(":"),a=r[0]||"",n=r[1]||"",g){case"scene":break;case"i3d":i=o.cache.get(a+".svg"),e.i3d=o.Models.get("i3d",a,n)||{},c.changeTemplateScene(a),$("#i3d").html(i),o.compile($("#i3d").contents())(e);break;case"i2d":i=o.cache.get(a+".svg"),e.i2d=o.Models.get("i2d",a,n)||{},$("#i2d").html(i),o.compile($("#i2d").contents())(e);break;case"base":i=o.cache.get(a+".html"),e.base=o.Models.get("base",a,n)||{},e.shot=e.shot||{},$("#base").html(i),o.compile($("#base").contents())(e);break;case"ui":i=o.cache.get(a+".html"),e.ui=o.Models.get("ui",a,n)||{},e.shot=e.shot||{},$("#ui").html(i),o.compile($("#ui").contents())(e);break;case"shot":i=o.cache.get(a+".svg"),e.shot=/^scope/.test(n)?e.shot||{}:o.Models.get("shot",a,n)||{};var y=e.shot.delta||{},p=y.branches||{},b=!0,k=!1,E=void 0;try{for(var M=void 0,w=Object.keys(p)[$traceurRuntime.toProperty(Symbol.iterator)]();!(b=(M=w.next()).done);b=!0){var R=M.value;s=$("#"+R),s.append(i),o.compile(s.contents())(e)}}catch(x){k=!0,E=x}finally{try{b||null==w["return"]||w["return"]()}finally{if(k)throw E}}}}}catch(S){v=!0,m=S}finally{try{d||null==f["return"]||f["return"]()}finally{if(v)throw m}}}};e.state("delta",o)}]).run(["$state","$templateCache","$location","$compile","$timeout","$rootScope","Models","Camera3d","Mediator","Log","Mockserver","Mixin","Transform3d","config",function(e,t,r,o,a,n,i,c,l,s,u,d,v,m){var h,f=e.get("delta");f.cache=t,f.location=r,f.compile=o,f.timeout=a,f.Models=i,f.Camera3d=c,f.Mediator=l,f.Log=s,f.config=m,h=new MutationSummary({queries:[{attribute:"transform"},{attribute:"form"}],rootNode:document.getElementById("i3d"),callback:function(e){var t,r,o,a,n,i=e[0],l=e[1],s=[],u=new THREE.Matrix4,d=!0,v=!1,m=void 0;try{for(var h=void 0,f=i.valueChanged[$traceurRuntime.toProperty(Symbol.iterator)]();!(d=(h=f.next()).done);d=!0){var g=h.value,y=JSON.parse(g.getAttribute("transform")),p=JSON.parse(i.getOldAttribute(g,"transform"));t=c.actor(g.id);var b=!0,k=!1,$=void 0;try{for(var E=void 0,M=Object.keys(y)[$traceurRuntime.toProperty(Symbol.iterator)]();!(b=(E=M.next()).done);b=!0){var w=E.value;angular.equals(y[w],p[w])||s.push({property:w,previous:p[w],current:y[w]})}}catch(R){k=!0,$=R}finally{try{b||null==M["return"]||M["return"]()}finally{if(k)throw $}}for(n=0;n<s.length;n++){var x=s[n].property;if("t"===x){for(var S=s[n].current,T=0;T<S.length;T++);o=(new THREE.Matrix4).makeTranslation(S[0],S[1],S[2])}if("q"===x){for(var H=s[n].current,P=0;P<H.length;P++);var _=new THREE.Quaternion(H[0],H[1],H[2],H[3]);r=(new THREE.Matrix4).makeRotationFromQuaternion(_)}if("e"===x){for(var C=s[n].current,O=0;O<C.length;O++);{var j=new THREE.Euler(C[0],C[1],C[2]);(new THREE.Quaternion).setFromEuler(j)}r=(new THREE.Matrix4).makeRotationFromEuler(j)}if("s"===x){for(var q=s[n].current,L=0;L<q.length;L++);a=(new THREE.Matrix4).makeScale(q[0],q[1],q[2])}}u=o||u,r&&(u=u.multiply(r)),a&&(u=u.multiply(a)),t.applyMatrix(u)}}catch(F){v=!0,m=F}finally{try{d||null==f["return"]||f["return"]()}finally{if(v)throw m}}var N=!0,Q=!1,A=void 0;try{for(var B=void 0,J=l.valueChanged[$traceurRuntime.toProperty(Symbol.iterator)]();!(N=(B=J.next()).done);N=!0){B.value}}catch(I){Q=!0,A=I}finally{try{N||null==J["return"]||J["return"]()}finally{if(Q)throw A}}}}),m.server_connect&&l.connect(),window.addEventListener("keyup",function(e){switch(e.keyCode){case 51:e.altKey&&(m.unit_test?(console.log("starting unit tests..."),m.unit_spec(l,d,v,c,m).then(function(){m.mockserver_connect&&(console.log("starting Mockserver..."),u.start(),m.mockserver_connect=!1)})["catch"](function(e){console.log("unit tests failed: "+e),console.log("skipping e2e test...")})):m.mockserver_connect&&(console.log("starting Mockserver..."),u.start(),m.mockserver_connect=!1))}})}]);
"use strict";angular.module("app").directive("mwNarrative",["$rootScope","$state","$location","$templateCache","$timeout","$compile","Mediator","Models","Camera3d","Camera2d","Log","TweenMax","TimelineMax","Quad","config",function(e,t,s,a,r,n,o,i,l,c,u,h,p,m,f){var d=function(e,t){var s={},a=!0,r=!1,n=void 0;try{for(var o=void 0,i=Object.keys(e)[$traceurRuntime.toProperty(Symbol.iterator)]();!(a=(o=i.next()).done);a=!0){var l=o.value;s[l]=t[l]!==e[l]?e[l]:""}}catch(c){r=!0,n=c}finally{try{a||null==i["return"]||i["return"]()}finally{if(r)throw n}}return s},v=0,b=0,y=0,_=0,g=function(){function a(){var a=this;this.scenes=Object.keys(f.scenes),this.controls=Object.keys(f.controls),this.scene=f.opening_scene,this.control_state=f.controls;var n=["scene","i3d","i2d","base","ui","shot"];this.terms=n,this.backfwd=!1,this.frame=0,this.sequence={},this.prev_url="^",this.back=!1,this.stateObjp={},this.stateObjp.abs_url="^",this.stateObjp.delta_url="^",this.stateObj={},this.stateObj.scene=this.scene,this.stateObj.control_state=this.control_state,this.stateObj.delta_url=f.initial_url,this.stateObj.abs_url=f.initial_url,this.stateObj.delta_params=f.scenes[this.scene],this.stateObj.abs_params=f.scenes[this.scene],this.sequence[f.initial_url]=this.frame,this.sequence[this.prev_url]=this.frame-1,this.sequence[this.frame]=this.stateObj,this.sequence[this.frame-1]=this.stateObjp,this.metastate=t.get("delta"),this.metastate.stateObj=this.stateObj,this.metastate.stateObjp=this.stateObjp,history.replaceState(this.stateObj,this.scene),this.stateObj.abs_params.ui.match(/ui-msgbg/)&&this.test(),window.addEventListener("popstate",function(e){}),e.$on("$locationChangeSuccess",function(t){var o,i,l=s.url(),c={},h="",p="",m="",y="",_=!0,g=!0;if(/^\/$/.test(l)||(u.log(""+a.stateObj.abs_url),u.log(""+l),f.e2e_test&&(p=f.e2e_spec[v].delta_url,h=l,check.primitive(h)||(h=h.valueOf()),y=f.e2e_spec[v].abs_url,m=a.stateObj.abs_url,check.primitive(m)||(m=m.valueOf()),h!==p&&(_=!1,console.log("e2e_spec["+v+"] delta_url test failed: result:"+h+" !== expected:"+p),u.log("e2e_spec["+v+"] delta_url test failed: result:"+h+" !== expected:"+p)),m!==y&&(g=!1,console.log("e2e_spec["+v+"] abs_url test failed: result:"+m+" !== expected"+y),u.log("e2e_spec["+v+"] abs_url test failed: result:"+m+" !== expected:"+y)),_&&g||b++,v++,v===f.e2e_spec.length&&(console.log("*** e2e action->state-change-urls comparison test: \n                                   "+f.e2e_spec.length+" tests  \n                                   "+b+" failures ***"),u.log("*** e2e urls test: "+f.e2e_spec.length+" tests  "+b+" failures ***")))),a.backfwd){a.stateObjp=a.sequence[a.frame],a.sequence[l]<a.sequence[a.prev_url]?(a.back=!0,a.frame-=1):(a.back=!1,a.frame+=1),a.stateObj=a.sequence[a.frame],a.metastate.stateObj=a.stateObj,a.metastate.stateObjp=a.stateObjp,o=a.metastate.stateObjp.abs_params,i=a.metastate.stateObj.abs_params,c=d(i,o);var O=!0,j=!1,x=void 0;try{for(var $=void 0,S=n[$traceurRuntime.toProperty(Symbol.iterator)]();!(O=($=S.next()).done);O=!0){var k=$.value;h+="/"+c[k]}}catch(w){j=!0,x=w}finally{try{O||null==S["return"]||S["return"]()}finally{if(j)throw x}}a.metastate.stateObj.delta_params=c,a.metastate.stateObj.delta_url=h,a.stateObj=a.metastate.stateObj,r(function(){e.$apply(function(){a.scene=a.stateObj.scene,a.scope().ui.scene=a.scene})})}else a.back=!1;/^\/$/.test(l)||/^(\/.*){6}$/.test(l)||(console.log("!Narrative.onLocChSucc(url = "+l+" is NOT well-formed"),u.log({t:"!Narrative",f:"onLocChSucc",a:"url "+l+" is NOT well-formed"})),a.stateObj.abs_params.ui.match(/ui-msgbg/)&&a.test()}),e.$on("$stateChangeSuccess",function(e){var t,r,n,i,c,d,v=function(e){var t,s,a,r,n,i,c=e.timeline||{},u=c.p||{},f=c.actors||{},d=c.actions||[];u.paused=u.paused||!0,u.tweens=u.tweens||[];var v=!0,b=!1,y=void 0;try{for(var _=void 0,g=Object.keys(f)[$traceurRuntime.toProperty(Symbol.iterator)]();!(v=(_=g.next()).done);v=!0){var O=_.value;if(t=O.split(":"),s=t[0],a=t[1],s&&a){t=t.slice(2),i=0;var j=!0,x=!1,$=void 0;try{for(var S=void 0,k=t[$traceurRuntime.toProperty(Symbol.iterator)]();!(j=(S=k.next()).done);j=!0){{S.value}i++}}catch(w){x=!0,$=w}finally{try{j||null==k["return"]||k["return"]()}finally{if(x)throw $}}if(r="i3d"===s?l.actor(a):document.getElementById(a)){if(t.length>0){var C=!0,N=!1,P=void 0;try{for(var R=void 0,q=t[$traceurRuntime.toProperty(Symbol.iterator)]();!(C=(R=q.next()).done);C=!0){var J=R.value;J&&(r=r[J])}}catch(T){N=!0,P=T}finally{try{C||null==q["return"]||q["return"]()}finally{if(N)throw P}}}if(r){n=f[O];var M=!0,E=!1,L=void 0;try{for(var U=void 0,A=n[$traceurRuntime.toProperty(Symbol.iterator)]();!(M=(U=A.next()).done);M=!0){var H=U.value;void 0===H.dur&&(H.dur=10),H.p.delay=H.p.delay||0,H.p.ease=H.p.ease||m.easeInOut,H.actions&&(H.actions.start&&(H.p.onStart=o.exec,H.p.onStartParams=H.actions.start),H.actions.update&&(H.p.onUpdate=o.exec,H.p.onUpdateParams=H.actions.update),H.actions.complete&&(H.p.onComplete=o.exec,H.p.onCompleteParams=H.actions.complete),H.actions.start&&(H.p.onReverseComplete=o.exec,H.p.onReverseCompleteParams=H.actions.reverse_complete)),u.tweens.push(h.to(r,H.dur,H.p))}}catch(I){E=!0,L=I}finally{try{M||null==A["return"]||A["return"]()}finally{if(E)throw L}}}}}}}catch(B){b=!0,y=B}finally{try{v||null==g["return"]||g["return"]()}finally{if(b)throw y}}return d&&(d.start&&(u.onStart=o.exec,u.onStartParams=d.start),d.update&&(u.onUpdate=o.exec,u.onUpdateParams=d.update),d.complete&&(u.onComplete=o.exec,u.onCompleteParams=d.complete),d.reverseComplete&&(u.onReverseComplete=o.exec,u.onReverseCompleteParams=d.reverseComplete)),u.onComplete=o.exec,u.onReverseComplete=o.exec,u.onCompleteParams=d.complete||[],u.onCompleteParams.push({t:"mediator",f:"queue_ready_next"}),u.onReverseCompleteParams=d.reverseComplete||[],u.onReverseCompleteParams.push({t:"mediator",f:"queue_ready_next"}),new p(u)};a.prev_url=s.url(),a.backfwd=!0,f.e2e_test&&(t=JSON.stringify(a.scope().shot||{}),check.primitive(t)||(console.log("!JSON.stringify(shot) not primitive - index "+y),u.log("!JSON.stringify(shot) not primitive - index "+y),t=t.valueOf()),n=JSON.stringify(f.e2e_spec[y].shot),check.primitive(n)||(console.log("!JSON.stringify(expected_shot) not primitive - index "+y),u.log("!JSON.stringify(expected_shot) not primitive - index "+y),n=n.valueOf()),t!==n&&(_++,console.log("e2e_spec["+y+"] shot test failed: result:"+t+" !== expected:"+n),u.log("e2e_spec["+y+"] shot test failed: result:"+t+" !== expected:"+n)),y++,y===f.e2e_spec.length&&(console.log("*** e2e shot->scope.shot models comparison test: \n                             "+f.e2e_spec.length+" tests  \n                             "+_+" failures ***"),u.log("*** e2e shot test: "+f.e2e_spec.length+" tests "+_+" failures ***"))),i=a.scope()||{},r=i.shot||{},u.log(r),c=r.delta||{},d=v(c),a.back===!0?(d.seek(d.duration()),d.reverse()):d.play()})}return $traceurRuntime.createClass(a,{onload:function(e){e.match(/templates.html/)},change_control:function(t){var s=this;switch(t){case"HOME":l.home({d:3}),r(function(){r(function(){e.$apply(function(){s.control_state.HOME=!1})},3e3)}),u.log({t:"camera3d",f:"home",a:{d:3}});break;case"CNTR":l.center({d:3}),r(function(){r(function(){e.$apply(function(){s.control_state.CNTR=!1})},3e3)}),u.log({t:"camera3d",f:"center",a:{d:3}});break;case"csph":if(l.csphere()){var a=this.control_state.csph;l.toggle_csphere({name:"csph",val:a}),u.log({t:"camera3d",f:"toggle_csphere",a:a})}else r(function(){e.$apply(function(){s.control_state.csph=!s.control_state.csph})});break;case"key":case"fill":case"back":if(l.light(t)){var n=this.control_state[t];l.toggle_light({name:t,val:n}),u.log({t:"camera3d",f:"toggle_light",a:n})}else r(function(){e.$apply(function(){s.control_state[t]=!s.control_state[t]})});break;default:console.log("!unknown control name = "+t)}},shot:function(e){var t,s="/";if(!check.unemptyString(e))return void console.log("!Narrative.shot(shot = "+e+") Not unempty string)");if(!/:/.test(e))return void console.log("!Narrative.shot(shot = "+e+") NOT well-formed)");o.queue.ready=!1,t=this.stateObj.abs_url.split("/"),t.pop(),""===t[0]&&t.shift();var a=!0,r=!1,n=void 0;try{for(var i=void 0,l=t[$traceurRuntime.toProperty(Symbol.iterator)]();!(a=(i=l.next()).done);a=!0){var c=i.value;s+=c+"/"}}catch(u){r=!0,n=u}finally{try{a||null==l["return"]||l["return"]()}finally{if(r)throw n}}s+=e,this.change_shot(s)},change_scene_by_ui:function(e){u.log({t:"narrative",f:"change_scene",a:e}),this.change_scene(e)},change_scene:function(t){var s,a=this,n=[],o={},i=0;if(!check.unemptyString(t))return void console.log("!Narrative.change_scene(scene = "+t+" - Not unempty string)");if(!check.oneOf(Object.keys(f.scenes),t))return void console.log("!Narrative.change_scene(scene = "+t+" - Not in config.scenes)");if(t!==this.scene&&(r(function(){e.$apply(function(){a.scene=t})}),this.scene=t),this.scene!==this.stateObj.scene){o=f.scenes[this.scene];var l=!0,c=!1,u=void 0;try{for(var h=void 0,p=this.terms[$traceurRuntime.toProperty(Symbol.iterator)]();!(l=(h=p.next()).done);l=!0){var m=h.value;n[i++]=o[m]}}catch(d){c=!0,u=d}finally{try{l||null==p["return"]||p["return"]()}finally{if(c)throw u}}s="/",s+=n.join("/"),this.change_shot(s)}},change_shot:function(e){var t,s,a=e.split("shot"),r=[];return check.unemptyString(e)?(a[1]="shot"+a[1],r=a[1].split(/:(.*)/)||"",t=r[0]||"",s=a[1].split(/:(.*)?/)[1]||"",void(/^{/.test(s)?(s=JSON.parse(s),this.scope().shot=s,e=a[0]+t+":scope"+this.frame,this.change_state(e)):this.change_state(e))):void console.log("!Narrative.change_shot(url = "+e+" - Not unempty string)")},change_state:function(t){var a=this,n={},o=[],i={},l=[],c=[],u=0;if(!check.unemptyString(t))return void console.log("!Narrative.change_state(url = "+t+" - Not unempty string)");if(/\/$/.test(t)&&(t+="shot-fixed:"),/\{}$/.test(t)&&(t=t.replace(/\{}$/,"shot-fixed:")),/\{/.test(t))return void console.log("!Narrative.change_state(url = "+t+" - contains JSON - returning)");this.stateObj={},this.stateObj.abs_params={},this.stateObj.delta_params={},this.frame+=1,this.stateObj.frame=this.frame,o=t.slice(1).split("/");var h=!0,p=!1,m=void 0;try{for(var f=void 0,d=this.terms[$traceurRuntime.toProperty(Symbol.iterator)]();!(h=(f=d.next()).done);h=!0){var v=f.value;n[v]=o[u],u+=1}}catch(b){p=!0,m=b}finally{try{h||null==d["return"]||d["return"]()}finally{if(p)throw m}}i=this.metastate.stateObj.abs_params,u=0;var y=!0,_=!1,g=void 0;try{for(var O=void 0,j=this.terms[$traceurRuntime.toProperty(Symbol.iterator)]();!(y=(O=j.next()).done);y=!0){var x=O.value;this.stateObj.delta_params[x]="",l[u]="",n[x].length>1?(this.stateObj.abs_params[x]=n[x],l[u]=n[x]):(this.stateObj.abs_params[x]=i[x],l[u]=i[x]),u+=1}}catch($){_=!0,g=$}finally{try{y||null==j["return"]||j["return"]()}finally{if(_)throw g}}u=0,this.stateObj.delta_params={};var S=!0,k=!1,w=void 0;try{for(var C=void 0,N=this.terms[$traceurRuntime.toProperty(Symbol.iterator)]();!(S=(C=N.next()).done);S=!0){var P=C.value;this.stateObj.delta_params[P]="",c[u]="",u+=1}}catch(R){k=!0,w=R}finally{try{S||null==N["return"]||N["return"]()}finally{if(k)throw w}}u=0;var q=!0,J=!1,T=void 0;try{for(var M=void 0,E=this.terms[$traceurRuntime.toProperty(Symbol.iterator)]();!(q=(M=E.next()).done);q=!0){var L=M.value;n[L].length>0&&n[L]!==i[L]&&(this.stateObj.delta_params[L]=n[L],c[u]=n[L]),u+=1}}catch(U){J=!0,T=U}finally{try{q||null==E["return"]||E["return"]()}finally{if(J)throw T}}this.stateObj.scene=this.stateObj.abs_params.scene.split(":")[0],this.stateObj.abs_url="/",this.stateObj.delta_url="/",this.stateObj.abs_url+=l.join("/"),this.stateObj.delta_url+=c.join("/"),this.stateObj.control_state=this.control_state,r(function(){e.$apply(function(){a.scene=a.stateObj.scene,a.scope().ui.scene=a.scene})}),this.metastate.stateObjp=this.metastate.stateObj,this.metastate.stateObj=this.stateObj,this.backfwd=!1,this.sequence[this.stateObj.delta_url]=this.frame,this.sequence[this.frame]=this.stateObj,s.url(this.stateObj.delta_url),history.replaceState(this.stateObj,this.scene)},test:function(){var t=this.scope?this.scope():this;t.ui={},t.ui.bgcolor="black",t.ui.scene=this.scene,r(function(){e.$apply(function(){t.ui.bgcolor="red"})},1e3),r(function(){e.$apply(function(){t.ui.bgcolor="blue"})},3e3)}},{})}();return{restrict:"EA",scope:!0,controller:g,controllerAs:"narrative",bindToController:!0,link:function(e,t,s,a){var r=e;a.scope=function(){return r},o.component("narrative",a),c.place(e),c.set_narrative(a),c.set_mediator(o),l.place(f.canvas3d,f.scenes[f.opening_scene].i3d,r,f.Scene),l.set_narrative(a),l.set_mediator(o)}}}]);
"use strict";angular.module("app").service("Camera2d",["config","Log","TweenMax","TimelineMax",function(t,o,e,a){var s,r,i,d=t.record_shots,l=o.log,c=function(){function t(){this.scope=void 0,this.tl={},this.tlp={},this.shot={},this.action={},this.plane=void 0,this.x=0,this.y=0,this.zoom_plane=void 0,this.angle=0,this.scale=1,window.addEventListener("keyup",function(t){var o;switch(t.keyCode){case 82:o={d:3},t.shiftKey?(s.home(o),l({t:"camera2d",f:"home",a:o}),d&&r.record({t:"camera2d",f:"home",a:o})):(s.center(o),l({t:"camera2d",f:"center",a:o}),d&&r.record({t:"camera2d",f:"center",a:o}));break;case 90:t.altKey?t.shiftKey?(o={s:2,d:3},s.zoomflyTo(o),l({t:"camera2d",f:"zoomflyTo",a:o}),d&&r.record({t:"camera2d",f:"zoomflyTo",a:o})):(o={s:1.1111,d:3},s.zoomflyBy(o),l({t:"camera2d",f:"zoomflyBy",a:o}),d&&r.record({t:"camera2d",f:"zoomflyBy",a:o})):t.shiftKey?(o={s:2},s.zoomcutTo(o),l({t:"camera2d",f:"zoomcutTo",a:o}),d&&r.record({t:"camera2d",f:"zoomcutTo",a:o})):(o={s:1.1111},s.zoomcutBy(o),l({t:"camera2d",f:"zoomcutBy",a:o}),d&&r.record({t:"camera2d",f:"zoomcutBy",a:o}));break;case 88:t.altKey?t.shiftKey?(o={s:.5,d:3},s.zoomflyTo(o),l({t:"camera2d",f:"zoomflyTo",a:o}),d&&r.record({t:"camera2d",f:"zoomflyTo",a:o})):(o={s:.9,d:3},s.zoomflyBy(o),l({t:"camera2d",f:"zoomflyBy",a:o}),d&&r.record({t:"camera2d",f:"zoomflyBy",a:o})):t.shiftKey?(o={s:.5},s.zoomcutTo(o),l({t:"camera2d",f:"zoomcutTo",a:o}),d&&r.record({t:"camera2d",f:"zoomcutTo",a:o})):(o={s:.9},s.zoomcutBy(o),l({t:"camera2d",f:"zoomcutBy",a:o}),d&&r.record({t:"camera2d",f:"zoomcutBy",a:o}));break;case 67:t.altKey?t.shiftKey?(o={r:-90,d:3},s.rollflyTo(o),l({t:"camera2d",f:"rollflyTo",a:o}),d&&r.record({t:"camera2d",f:"rollflyTo",a:o})):(o={r:-22.5,d:3},s.rollflyBy(o),l({t:"camera2d",f:"rollflyBy",a:o}),d&&r.record({t:"camera2d",f:"rollflyBy",a:o})):t.shiftKey?(o={r:-90},s.rollcutTo(o),l({t:"camera2d",f:"rollcutTo",a:o}),d&&r.record({t:"camera2d",f:"rollcutTo",a:o})):(o={r:-22.5},s.rollcutBy(o),l({t:"camera2d",f:"rollcutBy",a:o}),d&&r.record({t:"camera2d",f:"rollcutBy",a:o}));break;case 86:t.altKey?t.shiftKey?(o={r:90,d:3},s.rollflyTo(o),l({t:"camera2d",f:"rollflyTo",a:o}),d&&r.record({t:"camera2d",f:"rollflyTo",a:o})):(o={r:22.5,d:3},s.rollflyBy(o),l({t:"camera2d",f:"rollflyBy",a:o}),d&&r.record({t:"camera2d",f:"rollflyBy",a:o})):t.shiftKey?(o={r:90},s.rollcutTo(o),l({t:"camera2d",f:"rollcutTo",a:o}),d&&r.record({t:"camera2d",f:"rollcutTo",a:o})):(o={r:22.5},s.rollcutBy(o),l({t:"camera2d",f:"rollcutBy",a:o}),d&&r.record({t:"camera2d",f:"rollcutBy",a:o}));break;case 81:t.altKey?t.shiftKey?(o={x:20,d:3},s.dollyflyTo(o),l({t:"camera2d",f:"dollyflyTo",a:o}),d&&r.record({t:"camera2d",f:"dollyflyTo",a:o})):(o={x:10,d:3},s.dollyflyBy(o),l({t:"camera2d",f:"dollyflyBy",a:o}),d&&r.record({t:"camera2d",f:"dollyflyBy",a:o})):t.shiftKey?(o={x:20},s.dollycutTo(o),l({t:"camera2d",f:"dollycutTo",a:o}),d&&r.record({t:"camera2d",f:"dollycutTo",a:o})):(o={x:10},s.dollycutBy(o),l({t:"camera2d",f:"dollycutBy",a:o}),d&&r.record({t:"camera2d",f:"dollycutBy",a:o}));break;case 87:t.altKey?t.shiftKey?(o={x:-20,d:3},s.dollyflyTo(o),l({t:"camera2d",f:"dollyflyTo",a:o}),d&&r.record({t:"camera2d",f:"dollyflyTo",a:o})):(o={x:-10,d:3},s.dollyflyBy(o),l({t:"camera2d",f:"dollyflyBy",a:o}),d&&r.record({t:"camera2d",f:"dollyflyBy",a:o})):t.shiftKey?(o={x:-20},s.dollycutTo(o),l({t:"camera2d",f:"dollyCutTo",a:o}),d&&r.record({t:"camera2d",f:"dollycutTo",a:o})):(o={x:-10},s.dollycutBy(o),l({t:"camera2d",f:"dollyCutBy",a:o}),d&&r.record({t:"camera2d",f:"dollycutBy",a:o}));break;case 89:t.altKey?t.shiftKey?(o={y:20,d:3},s.dollyflyTo(o),l({t:"camera2d",f:"dollyflyTo",a:o}),d&&r.record({t:"camera2d",f:"dollyflyTo",a:o})):(o={y:10,d:3},s.dollyflyBy(o),l({t:"camera2d",f:"dollyflyBy",a:o}),d&&r.record({t:"camera2d",f:"dollyflyBy",a:o})):t.shiftKey?(o={y:20},s.dollycutTo(o),l({t:"camera2d",f:"dollycutTo",a:o}),d&&r.record({t:"camera2d",f:"dollycutTo",a:o})):(o={y:10},s.dollycutBy(o),l({t:"camera2d",f:"dollycutBy",a:o}),d&&r.record({t:"camera2d",f:"dollycutBy",a:o}));break;case 85:t.altKey?t.shiftKey?(o={y:-20,d:3},s.dollyflyTo(o),l({t:"camera2d",f:"dollyflyTo",a:o}),d&&r.record({t:"camera2d",f:"dollyflyTo",a:o})):(o={y:-10,d:3},s.dollyflyBy(o),l({t:"camera2d",f:"dollyflyBy",a:o}),d&&r.record({t:"camera2d",f:"dollyflyBy",a:o})):t.shiftKey?(o={y:-20},s.dollycutTo(o),l({t:"camera2d",f:"dollycutTo",a:o}),d&&r.record({t:"camera2d",f:"dollycutTo",a:o})):(o={y:-10},s.dollycutBy(o),l({t:"camera2d",f:"dollycutBy",a:o}),d&&r.record({t:"camera2d",f:"dollycutBy",a:o}));break;case 57:s.bezier(),l({t:"camera2d",f:"bezier",a:{d:10}}),d&&r.record({t:"camera2d",f:"bezier",a:{d:10}})}})}return $traceurRuntime.createClass(t,{test:function(t,o,e){},place:function(t){this.scope=t,this.plane=document.getElementById("plane"),this.zoom_plane=document.getElementById("zoom_plane"),console.assert(this.scope,"error setting scope!"),console.assert(this.plane,"error setting plane!"),console.assert(this.zoom_plane,"error setting zoom_plane!")},set_narrative:function(t){i=t},set_mediator:function(t){r=t},actor:function(t){return document.getElementById(t)},center:function(t){t.d=t.d||0,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i2d:plane":[{dur:t.d,p:{x:0,y:0,immediateRender:!1}}],"i2d:zoom_plane":[{dur:t.d,p:{rotation:0,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},home:function(t){t.d=t.d||0,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i2d:plane":[{dur:t.d,p:{x:0,y:0,immediateRender:!1}}],"i2d:zoom_plane":[{dur:t.d,p:{rotation:0,scale:1,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},zoomcutTo:function(t){void 0!==t.s&&(this.scale=t.s),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:zoom_plane":[{dur:0,p:{scale:this.scale,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},zoomcutBy:function(t){void 0!==t.s&&(this.scale*=t.s),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:zoom_plane":[{dur:0,p:{scale:this.scale,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},zoomflyTo:function(t){void 0!==t.s&&(this.scale=t.s),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:zoom_plane":[{dur:t.d,p:{scale:this.scale,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},zoomflyBy:function(t){void 0!==t.s&&(this.scale*=t.s),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:zoom_plane":[{dur:t.d,p:{scale:this.scale,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},rollcutTo:function(t){void 0!==t.r&&(this.angle=t.r),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:zoom_plane":[{dur:0,p:{rotation:this.angle,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},rollcutBy:function(t){void 0!==t.r&&(this.angle+=t.r),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:zoom_plane":[{dur:0,p:{rotation:this.angle,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},rollflyTo:function(t){void 0!==t.r&&(this.angle=t.r),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:zoom_plane":[{dur:t.d,p:{rotation:this.angle,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},rollflyBy:function(t){void 0!==t.r&&(this.angle+=t.r),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:zoom_plane":[{dur:t.d,p:{rotation:this.angle,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},dollycutTo:function(t){void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:plane":[{dur:0,p:{x:this.x,y:-this.y,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},dollycutBy:function(t){void 0!==t.x&&(this.x+=t.x),void 0!==t.y&&(this.y+=t.y),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:plane":[{dur:0,p:{x:this.x,y:-this.y,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},dollyflyTo:function(t){void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:plane":[{dur:t.d,p:{x:this.x,y:-this.y,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},dollyflyBy:function(t){void 0!==t.x&&(this.x+=t.x),void 0!==t.y&&(this.y+=t.y),this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:plane":[{dur:t.d,p:{x:this.x,y:-this.y,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)},bezier:function(){var t,o,e=void 0!==arguments[0]?arguments[0]:{d:10,n:6},a=[],s=[],r=[];for(a[0]=0,s[0]=0,Math.random()>.5?(a[1]=30*Math.random(),s[1]=-30*Math.random(),a[2]=-30*Math.random(),s[2]=-30*Math.random(),a[3]=-30*Math.random(),s[3]=30*Math.random(),a[4]=30*Math.random(),s[4]=30*Math.random()):(a[1]=-30*Math.random(),s[1]=30*Math.random(),a[2]=-30*Math.random(),s[2]=-30*Math.random(),a[3]=30*Math.random(),s[3]=-30*Math.random(),a[4]=30*Math.random(),s[4]=30*Math.random()),a[5]=0,s[5]=0,t=0;t<e.n;t++)r.push({x:a[t],y:s[t]});o={bezier:{autoRotate:!0,curviness:2,values:r,immediateRender:!1}},this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i2d:c":[{dur:e.d,p:o}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),i.shot(this.shot)}},{})}();return s||(s=new c),s}]);
"use strict";angular.module("app").service("Camera3d",["$rootScope","$timeout","Log","config","TweenMax","TimelineMax","Quad",function(t,e,a,o,r,i,d){var s,c,l,n,y,h,f,m,u,p,T,z,B=o.record_shots,x=a.log,w=90,R=50,g=1,E=0,b=0,k=0,v=0,K=0,S=!1,M=new THREE.Vector3,A={},O={},H=null,J=new THREE.Vector3(1,0,0),N=new THREE.Vector3(0,1,0),C=(new THREE.Matrix4,new THREE.Matrix4,new THREE.Matrix4),F=new THREE.Matrix4,_=(new THREE.Matrix4,new THREE.Matrix4,function(t){for(var e=0;16>e;e++)console.log("m["+e+"] = "+t[e]);var a=new THREE.Vector3,o=new THREE.Quaternion,r=new THREE.Vector3;t.decompose(a,o,r)}),V=function(){m.setSize(window.innerWidth,window.innerHeight),j()},j=function(){S&&(M.addVectors(f.position,h.position),M.z*=g,Object.keys(A).forEach(function(t){A[t].lookAt(M)})),H&&H.update(),m.render(T,h)},L=function(){function a(){this.scope=void 0,this.fov=w,this.tl={},this.tlp={},this.shot={},this.action={},$(window).load(function(){H=function(){var t=new Stats;return t.setMode(0),$("#stats").html(t.domElement),t}()}),window.addEventListener("keyup",function(t){var e;switch(t.keyCode){case 77:e={d:3},t.shiftKey?(s.home(e),x({t:"camera3d",f:"home",a:e}),B&&c.record({t:"camera3d",f:"home",a:e})):(s.center(e),x({t:"camera3d",f:"center",a:e}),B&&c.record({t:"camera3d",f:"center",a:e}));break;case 76:t.altKey?t.shiftKey?(s.billboardsFree(),x({t:"camera3d",f:"billboardsFree"}),B&&c.record({t:"camera3d",f:"billboardsFree"})):(s.billboardsFaceCamera(),x({t:"camera3d",f:"billboardsFaceCamera"}),B&&c.record({t:"camera3d",f:"billboardsFaceCamera"})):t.shiftKey?(h.lookAt([0,0,0]),x({t:"camera3d",f:"lookAt",a:[0,0,0]}),B&&c.record({t:"camera3d",f:"lookAt",a:[0,0,0]})):(s.lookAt(),x({t:"camera3d",f:"lookAt"}),B&&c.record({t:"camera3d",f:"lookAt"}));break;case 65:t.altKey?t.shiftKey?(e={s:.5,d:3},s.zoomflyTo(e),x({t:"camera3d",f:"zoomflyTo",a:e}),B&&c.record({t:"camera3d",f:"zoomflyTo",a:e})):(e={s:.9,d:3},s.zoomflyBy(e),x({t:"camera3d",f:"zoomflyBy",a:e}),B&&c.record({t:"camera3d",f:"zoomflyBy",a:e})):t.shiftKey?(e={s:.5},s.zoomcutTo(e),x({t:"camera3d",f:"zoomcutTo",a:e}),B&&c.record({t:"camera3d",f:"zoomcutTo",a:e})):(e={s:.9},s.zoomcutBy(e),x({t:"camera3d",f:"zoomcutBy",a:e}),B&&c.record({t:"camera3d",f:"zoomcutBy",a:e}));break;case 83:t.altKey?t.shiftKey?(e={s:2,d:3},s.zoomflyTo(e),x({t:"camera3d",f:"zoomflyTo",a:e}),B&&c.record({t:"camera3d",f:"zoomflyTo",a:e})):(e={s:1.1111,d:3},s.zoomflyBy(e),x({t:"camera3d",f:"zoomflyBy",a:e}),B&&c.record({t:"camera3d",f:"zoomflyBy",a:e})):t.shiftKey?(e={s:2},s.zoomcutTo(e),x({t:"camera3d",f:"zoomcutTo",a:e}),B&&c.record({t:"camera3d",f:"zoomcutTo",a:e})):(e={s:1.1111},s.zoomcutBy(e),x({t:"camera3d",f:"zoomcutBy",a:e}),B&&c.record({t:"camera3d",f:"zoomcutBy",a:e}));break;case 66:t.altKey?t.shiftKey?(e={r:-1.57,d:3},x({t:"camera3d",f:"rollflyTo",a:e}),s.rollflyTo(e),B&&c.record({t:"camera3d",f:"rollflyTo",a:e})):(e={r:-.3927,d:3},s.rollflyBy(e),x({t:"camera3d",f:"rollflyBy",a:e}),B&&c.record({t:"camera3d",f:"rollflyBy",a:e})):t.shiftKey?(e={r:-1.57},s.rollcutTo(e),x({t:"camera3d",f:"rollcutTo",a:e}),B&&c.record({t:"camera3d",f:"rollcutTo",a:e})):(e={r:-.3927},s.rollcutBy(e),x({t:"camera3d",f:"rollcutBy",a:e}),B&&c.record({t:"camera3d",f:"rollcutBy",a:e}));break;case 78:t.altKey?t.shiftKey?(e={r:1.57,d:3},s.rollflyTo(e),x({t:"camera3d",f:"rollflyTo",a:e}),B&&c.record({t:"camera3d",f:"rollflyTo",a:e})):(s.rollflyBy(e),x({t:"camera3d",f:"rollflyBy",a:e}),e={r:.3927,d:3},B&&c.record({t:"camera3d",f:"rollflyBy",a:e})):t.shiftKey?(e={r:1.57},B&&c.record({t:"camera3d",f:"rollcutTo",a:e}),s.rollcutTo(e)):(e={r:.3927},B&&c.record({t:"camera3d",f:"rollcutBy",a:e}),s.rollcutBy(e));break;case 37:t.shiftKey?(e={r:.7854,d:3},s.panflyTo(e),x({t:"camera3d",f:"panflyTo",a:e}),B&&c.record({t:"camera3d",f:"panflyTo",a:e})):(e={r:.19635,d:3},s.panflyBy(e),x({t:"camera3d",f:"panflyBy",a:e}),B&&c.record({t:"camera3d",f:"panflyBy",a:e}));break;case 39:t.shiftKey?(e={r:-.7854,d:3},s.panflyTo(e),x({t:"camera3d",f:"panflyTo",a:e}),B&&c.record({t:"camera3d",f:"panflyTo",a:e})):(e={r:-.19635,d:3},s.panflyBy(e),x({t:"camera3d",f:"panflyBy",a:e}),B&&c.record({t:"camera3d",f:"panflyBy",a:e}));break;case 38:t.shiftKey?(e={r:.7854,d:3},s.tiltflyTo(e),x({t:"camera3d",f:"tiltflyTo",a:e}),B&&c.record({t:"camera3d",f:"tiltflyTo",a:e})):(e={r:.19635,d:3},s.tiltflyBy(e),x({t:"camera3d",f:"tiltflyBy",a:e}),B&&c.record({t:"camera3d",f:"tiltflyBy",a:e}));break;case 40:t.shiftKey?(e={r:-.7854,d:3},s.tiltflyTo(e),x({t:"camera3d",f:"tiltflyTo",a:e}),B&&c.record({t:"camera3d",f:"tiltflyTo",a:e})):(e={r:-.19635,d:3},s.tiltflyBy(e),x({t:"camera3d",f:"tiltflyBy",a:e}),B&&c.record({t:"camera3d",f:"tiltflyBy",a:e}));break;case 71:t.altKey?t.shiftKey?(e={r:-1.57,d:3},s.yawflyTo(e),x({t:"camera3d",f:"yawflyTo",a:e}),B&&c.record({t:"camera3d",f:"yawflyTo",a:e})):(e={r:-.3927,d:3},s.yawflyBy(e),x({t:"camera3d",f:"yawflyBy",a:e}),B&&c.record({t:"camera3d",f:"yawflyBy",a:e})):t.shiftKey?(e={r:-1.57},s.yawcutTo(e),x({t:"camera3d",f:"yawcutTo",a:e}),B&&c.record({t:"camera3d",f:"yawcutTo",a:e})):(e={r:-.3927},s.yawcutBy(e),x({t:"camera3d",f:"yawcutBy",a:e}),B&&c.record({t:"camera3d",f:"yawcutBy",a:e}));break;case 72:t.altKey?t.shiftKey?(e={r:1.57,d:3},s.yawflyTo(e),x({t:"camera3d",f:"yawflyTo",a:e}),B&&c.record({t:"camera3d",f:"yawflyTo",a:e})):(e={r:.3927,d:3},s.yawflyBy(e),x({t:"camera3d",f:"yawflyBy",a:e}),B&&c.record({t:"camera3d",f:"yawflyBy",a:e})):t.shiftKey?(e={r:1.57},s.yawcutTo(e),x({t:"camera3d",f:"yawcutTo",a:e}),B&&c.record({t:"camera3d",f:"yawcutTo",a:e})):(e={r:.3927},s.yawcutBy(e),x({t:"camera3d",f:"yawcutBy",a:e}),B&&c.record({t:"camera3d",f:"yawcutBy",a:e}));break;case 74:t.altKey?t.shiftKey?(e={r:-1.57,d:3},s.pitchflyTo(e),x({t:"camera3d",f:"pitchflyTo",a:e}),B&&c.record({t:"camera3d",f:"pitchflyTo",a:e})):(e={r:-.3927,d:3},s.pitchflyBy(e),x({t:"camera3d",f:"pitchflyBy",a:e}),B&&c.record({t:"camera3d",f:"pitchflyBy",a:e})):t.shiftKey?(e={r:-1.57},s.pitchcutTo(e),x({t:"camera3d",f:"pitchcutTo",a:e}),B&&c.record({t:"camera3d",f:"pitchcutTo",a:e})):(e={r:-.3927},s.pitchcutBy(e),x({t:"camera3d",f:"pitchcutBy",a:e}),B&&c.record({t:"camera3d",f:"pitchcutBy",a:e}));break;case 75:t.altKey?t.shiftKey?(e={r:1.57,d:3},s.pitchflyTo(e),x({t:"camera3d",f:"pitchflyTo",a:e}),B&&c.record({t:"camera3d",f:"pitchflyTo",a:e})):(e={r:.3927,d:3},s.pitchflyBy(e),x({t:"camera3d",f:"pitchflyBy",a:e}),B&&c.record({t:"camera3d",f:"pitchflyBy",a:e})):t.shiftKey?(e={r:1.57},s.pitchcutTo(e),x({t:"camera3d",f:"pitchcutTo",a:e}),B&&c.record({t:"camera3d",f:"pitchcutTo",a:e})):(e={r:.3927},s.pitchcutBy(e),x({t:"camera3d",f:"pitchcutBy",a:e}),B&&c.record({t:"camera3d",f:"pitchcutBy",a:e}));break;case 49:t.altKey?t.shiftKey?(e={x:20,d:3},s.dollyflyTo(e),x({t:"camera3d",f:"dollyflyTo",a:e}),B&&c.record({t:"camera3d",f:"dollyflyTo",a:e})):(e={x:10,d:3},s.dollyflyBy(e),x({t:"camera3d",f:"dollyflyBy",a:e}),B&&c.record({t:"camera3d",f:"dollyflyBy",a:e})):t.shiftKey?(e={x:20},s.dollycutTo(e),x({t:"camera3d",f:"dollycutTo",a:e}),B&&c.record({t:"camera3d",f:"dollycutTo",a:e})):(e={x:10},s.dollycutBy(e),x({t:"camera3d",f:"dollycutBy",a:e}),B&&c.record({t:"camera3d",f:"dollycutBy",a:e}));break;case 50:t.altKey?t.shiftKey?(e={x:-20,d:3},s.dollyflyTo(e),x({t:"camera3d",f:"dollyflyTo",a:e}),B&&c.record({t:"camera3d",f:"dollyflyTo",a:e})):(e={x:-10,d:3},s.dollyflyBy(e),x({t:"camera3d",f:"dollyflyBy",a:e}),B&&c.record({t:"camera3d",f:"dollyflyBy",a:e})):t.shiftKey?(e={x:-20},s.dollycutTo(e),x({t:"camera3d",f:"dollycutTo",a:e}),B&&c.record({t:"camera3d",f:"dollycutTo",a:e})):(e={x:-10},s.dollycutBy(e),x({t:"camera3d",f:"dollycutBy",a:e}),B&&c.record({t:"camera3d",f:"dollycutBy",a:e}));break;case 54:t.altKey?t.shiftKey?(e={y:20,d:3},s.dollyflyTo(e),x({t:"camera3d",f:"dollyflyTo",a:e}),B&&c.record({t:"camera3d",f:"dollyflyTo",a:e})):(e={y:10,d:3},s.dollyflyBy(e),x({t:"camera3d",f:"dollyflyBy",a:e}),B&&c.record({t:"camera3d",f:"dollyflyBy",a:e})):t.shiftKey?(e={y:20},s.dollycutTo(e),x({t:"camera3d",f:"dollycutTo",a:e}),B&&c.record({t:"camera3d",f:"dollycutTo",a:e})):(e={y:10},s.dollycutBy(e),x({t:"camera3d",f:"dollycutBy",a:e}),B&&c.record({t:"camera3d",f:"dollycutBy",a:e}));break;case 55:t.altKey?t.shiftKey?(e={y:-20,d:3},s.dollyflyTo(e),x({t:"camera3d",f:"dollyflyTo",a:e}),B&&c.record({t:"camera3d",f:"dollyflyTo",a:e})):(e={y:-10,d:3},s.dollyflyBy(e),x({t:"camera3d",f:"dollyflyBy",a:e}),B&&c.record({t:"camera3d",f:"dollyflyBy",a:e})):t.shiftKey?(e={y:-20},s.dollycutTo(e),x({t:"camera3d",f:"dollycutTo",a:e}),B&&c.record({t:"camera3d",f:"dollycutTo",a:e})):(e={y:-10},s.dollycutBy(e),x({t:"camera3d",f:"dollycutBy",a:e}),B&&c.record({t:"camera3d",f:"dollycutBy",a:e}));break;case 79:t.altKey?t.shiftKey?(e={z:20,d:3},s.dollyflyTo(e),x({t:"camera3d",f:"dollyflyTo",a:e}),B&&c.record({t:"camera3d",f:"dollyflyTo",a:e})):(e={z:10,d:3},s.dollyflyBy(e),x({t:"camera3d",f:"dollyflyBy",a:e}),B&&c.record({t:"camera3d",f:"dollyflyBy",a:e})):t.shiftKey?(e={z:20},s.dollycutTo(e),x({t:"camera3d",f:"dollycutTo",a:e}),B&&c.record({t:"camera3d",f:"dollycutTo",a:e})):(e={z:10},s.dollycutBy(e),x({t:"camera3d",f:"dollycutBy",a:e}),B&&c.record({t:"camera3d",f:"dollycutBy",a:e}));break;case 80:t.altKey?t.shiftKey?(e={z:-20,d:3},s.dollyflyTo(e),x({t:"camera3d",f:"dollyflyTo",a:e}),B&&c.record({t:"camera3d",f:"dollyflyTo",a:e})):(e={z:-10,d:3},s.dollyflyBy(e),x({t:"camera3d",f:"dollyflyBy",a:e}),B&&c.record({t:"camera3d",f:"dollyflyBy",a:e})):t.shiftKey?(e={z:-20},s.dollycutTo(e),x({t:"camera3d",f:"dollycutTo",a:e}),B&&c.record({t:"camera3d",f:"dollycutTo",a:e})):(e={z:-10},s.dollycutBy(e),x({t:"camera3d",f:"dollycutBy",a:e}),B&&c.record({t:"camera3d",f:"dollycutBy",a:e}));break;case 48:e=t.altKey?{d:20,n:6,z:!0}:{d:20,n:6,z:!1},s.bezier(e),x({t:"camera3d",f:"bezier",a:e}),B&&c.record({t:"camera3d",f:"bezier",a:e})}})}return $traceurRuntime.createClass(a,{place:function(t,e,a,o,i,d,s){var c,l;n=document.getElementById(t),y=getWebGLContext(n),this.scope=a,T=o||new THREE.Scene,u=i||"transparent",p=d||0,c=new THREE.SphereGeometry(50,20,20),l=new THREE.MeshBasicMaterial({color:7829503,wireframe:!0}),f=new THREE.Mesh(c,l),f.position.x=0,f.position.y=0,f.position.z=0,w=s||90,h=new THREE.PerspectiveCamera(w,window.innerWidth/window.innerHeight,1,1e3),h.position.x=0,h.position.y=0,h.position.z=50,T.add(f),this.addActorToScene("camera",h),f.add(h),this.addActorToScene("csphere",f),T.add(f),m=new THREE.WebGLRenderer({canvas:n,antialias:!0,alpha:!0}),m.setClearColor(u,p),m.setSize(window.innerWidth,window.innerHeight),window.addEventListener("resize",V,!1),setTimeout(function(){j()},1e3),r.ticker.addEventListener("tick",j)},set_narrative:function(t){l=t},set_mediator:function(t){c=t},examine_matrix:function(t){_(t)},animate:function(){requestAnimationFrame(a.animate),j(),H&&H.update()},toggle_csphere:function(a){f&&(f.material.visible=a.val,e(function(){t.$apply(function(){l.control_state.csph=a.val})}),l.shot('shot-fixed:{"delta-t":"camera3d", "f":"toggle_csphere", "a":'+a.val+"}"))},toggle_light:function(a){O[a.name]&&(O[a.name].visible=a.val,e(function(){t.$apply(function(){l.control_state[a.name]=a.val})}),l.shot('shot-fixed:{"delta-t":"camera3d", "f":"toggle_light", "a":{"name":"'+a.name+'","val":'+a.val+"}}"))},light:function(t){return s.actor(t)},csphere:function(){return f},center:function(t){t.d=t.d||0,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:t.d,p:{x:0,y:0,z:0,immediateRender:!1}}],"i3d:csphere:position":[{dur:t.d,p:{x:0,y:0,z:0,immediateRender:!1}}],"i3d:csphere:rotation":[{dur:t.d,p:{x:0,y:0,z:0,immediateRender:!1}}],"i2d:plane":[{dur:t.d,p:{x:0,y:0,immediateRender:!1}}],"i2d:zoom_plane":[{dur:t.d,p:{rotation:0,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot),h.position.x=0,h.position.y=0,h.up.x=0,h.up.y=1,h.up.z=0,h.fov!==w&&(h.fov=w,h.updateProjectionMatrix()),E=0,b=0,k=0,v=0,K=0},home:function(t){t.d=t.d||0,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:t.d,p:{x:0,y:0,z:0,immediateRender:!1}}],"i3d:csphere:position":[{dur:t.d,p:{x:0,y:0,z:0,immediateRender:!1}}],"i3d:csphere:scale":[{dur:t.d,p:{x:1,y:1,z:1,immediateRender:!1}}],"i3d:csphere:rotation":[{dur:t.d,p:{x:0,y:0,z:0,immediateRender:!1}}],"i2d:plane":[{dur:t.d,p:{x:0,y:0,immediateRender:!1}}],"i2d:zoom_plane":[{dur:t.d,p:{rotation:0,scale:1,svgOrigin:"0% 0%",immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot),h.position.x=0,h.position.y=0,h.up.x=0,h.up.y=1,h.up.z=0,h.fov!==w&&(h.fov=w,h.updateProjectionMatrix()),f.radius!==R&&(f.radius=R),g=1,E=0,b=0,k=0,v=0,K=0},zoomcutTo:function(t){g=t.s,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:scale":[{dur:0,p:{x:g,y:g,z:g,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},zoomcutBy:function(t){g*=t.s,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:scale":[{dur:0,p:{x:g,y:g,z:g,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},zoomflyTo:function(t){g=t.s,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:scale":[{dur:t.d,p:{x:g,y:g,z:g,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},zoomflyBy:function(t){g*=t.s,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:scale":[{dur:t.d,p:{x:g,y:g,z:g,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},rollcutTo:function(t){E=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:0,p:{z:E,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},rollcutBy:function(t){E+=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:0,p:{z:E,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},rollflyTo:function(t){E=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:t.d,p:{z:E,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},rollflyBy:function(t){E+=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:t.d,p:{z:E,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},panflyTo:function(t){b=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:t.d,p:{y:b,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},panflyBy:function(t){b+=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:t.d,p:{y:b,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},tiltflyTo:function(t){k=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:t.d,p:{x:k,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},tiltflyBy:function(t){k+=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:camera:rotation":[{dur:t.d,p:{x:k,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},yawcutTo:function(t){v=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:rotation":[{dur:0,p:{y:v,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},yawcutBy:function(t){v+=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:rotation":[{dur:0,p:{y:v,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},yawflyTo:function(t){v=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:rotation":[{dur:t.d,p:{y:v,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},yawflyBy:function(t){v+=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:rotation":[{dur:t.d,p:{y:v,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},pitchcutTo:function(t){K=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:rotation":[{dur:0,p:{x:K,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},pitchcutBy:function(t){K+=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:rotation":[{dur:0,p:{x:K,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},pitchflyTo:function(t){K=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:rotation":[{dur:t.d,p:{x:K,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},pitchflyBy:function(t){K+=t.r,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:rotation":[{dur:t.d,p:{x:K,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},dollyflyTo:function(t){t.d=t.d||3,t.x=t.x||f.position.x,t.y=t.y||f.position.y,t.z=t.z||f.position.z,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:position":[{dur:t.d,p:{x:t.x,y:t.y,z:t.z,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},dollyflyBy:function(t){t.d=t.d||3,t.x=t.x||0,t.y=t.y||0,t.z=t.z||0,t.x=f.position.x+t.x,t.y=f.position.y+t.y,t.z=f.position.z+t.z,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:position":[{dur:t.d,p:{x:t.x,y:t.y,z:t.z,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},dollycutTo:function(t){t.x=t.x||f.position.x,t.y=t.y||f.position.y,t.z=t.z||f.position.z,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:position":[{dur:0,p:{x:t.x,y:t.y,z:t.z,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},dollycutBy:function(t){t.d=0,t.x=t.x||0,t.y=t.y||0,t.z=t.z||0,t.x=f.position.x+t.x,t.y=f.position.y+t.y,t.z=f.position.z+t.z,this.shot={delta:{timeline:{p:{paused:!0,repeat:0},actors:{"i3d:csphere:position":[{dur:0,p:{x:t.x,y:t.y,z:t.z,immediateRender:!1}}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},bezier:function(){var t,e,a=void 0!==arguments[0]?arguments[0]:{d:20,n:6,z:!0},o=[],r=[],i=[],d=[];for(a.z&&(i[0]=0),o[0]=0,r[0]=0,Math.random()>.5?(o[1]=30*Math.random(),r[1]=30*Math.random(),o[2]=-30*Math.random(),r[2]=30*Math.random(),o[3]=-30*Math.random(),r[3]=-30*Math.random(),o[4]=30*Math.random(),r[4]=-30*Math.random(),a.z&&(i[1]=-10*Math.random(),i[2]=i[1]-30*Math.random(),i[3]=i[2]+30*Math.random(),i[4]=-10*Math.random())):(o[1]=-30*Math.random(),r[1]=-30*Math.random(),o[2]=-30*Math.random(),r[2]=30*Math.random(),o[3]=30*Math.random(),r[3]=30*Math.random(),o[4]=30*Math.random(),r[4]=-30*Math.random(),a.z&&(i[1]=-10*Math.random(),i[2]=i[1]-30*Math.random(),i[3]=i[2]+30*Math.random(),i[4]=-10*Math.random())),o[5]=0,r[5]=0,a.z&&(i[5]=0),t=0;t<a.n;t++)d.push(a.z?{x:o[t],y:r[t],z:i[t]}:{x:o[t],y:r[t]});e={bezier:{autoRotate:!0,curviness:2,values:d,immediateRender:!1}},this.shot={delta:{timeline:{p:{paused:!0,repeat:0,tweens:[]},actors:{"i3d:csphere:position":[{dur:a.d,p:e}]}}}},this.shot="shot-anim:"+JSON.stringify(this.shot),l.shot(this.shot)},translateAxisDistance:function(t,e){t.normalize(),f.translateOnAxis(t,e);J.dot(t),N.dot(t)},rotate:function(t){var e=t.pitch||0,a=t.yaw||0,o=t.roll||0;C.makeRotationFromEuler(new THREE.Euler(e,a,o)),f.applyMatrix(C)},rotateAxisAngle:function(t,e,a,o){var r=new THREE.Vector3(t,e,a);r.normalize(),f.rotateOnAxis(r,o)},relRotateScale:function(t){var e=t.pitch||0,a=t.yaw||0,o=t.roll||0,r=t.zoom||1;C.makeRotationFromEuler(new THREE.Euler(e,a,o)),C.multiplyScalar(r),f.applyMatrix(C)},transform:function(t){Object.keys(t).forEach(function(t){});var e=t.tx||0,a=t.ty||0,o=t.tz||0,r=t.pitch||0,i=t.yaw||0,d=t.roll||0,s=t.zoom||1;_(f.matrix),F.makeTranslation(g*e,g*a,g*o),_(F),f.applyMatrix(F),_(f.matrix),C.makeRotationFromEuler(new THREE.Euler(r,i,d)),C.multiplyScalar(s),f.applyMatrix(C)},lookAt:function(t,e,a){if(check.number(t)&&check.number(e)&&check.number(a)){var r=[t,e,a];return o.unit_test?r:(h.lookAt(new THREE.Vector3(t,e,a)),void l.shot('shot-fixed:{"delta-t":"camera3d", "f":"lookAt", "a":a}}'))}if(Array.isArray(t)){if(o.unit_test)return t;if(3===t.length){{[t.x,t.y,t.z]}h.lookAt(new THREE.Vector3(t.x,t.y,t.z)),l.shot('shot-fixed:{"delta-t":"camera3d", "f":"lookAt", "a":a}}')}else console.log("!Camera3d.lookAt:arg.length = "+t.length)}else if(t){if(O[t]){var i=O[t].position;if(o.unit_test){var d;return i&&(d=[i.x,i.y,i.z]),d}return void(i?(h.lookAt(i),l.shot('shot-fixed:{"delta-t":"camera3d", "f":"lookAt", "a":id}')):console.log("!Camera3d.lookAt:actors["+t+"].position is undefined"))}console.log("!Camera3d.lookAt:actors["+t+"] does not exist")}else{if(o.unit_test){var s=f.position,c=[s.x,s.y,s.z];return c}if(f){var n=f.position;h.lookAt(n),l.shot('shot-fixed:{"delta-t":"camera3d", "f":"lookAt", "a":{}}')}else console.log("!Camera3d.lookAt:csphere is undefined")}},billboardsFaceCamera:function(){S=!0,l.shot('shot-fixed:{"delta-t":"camera3d", "f":"billboardsFaceCamera"}')},billboardsFree:function(){S=!1,l.shot('shot-fixed:{"delta-t":"camera3d", "f":"billboardsFree"}')},attachAsSurfaceChild:function(t,e){h.position.x=t.position.x,h.position.y=t.position.y,h.position.z=t.position.z,h.position.z+=e,R=e,t.add(h),h.name="camera",f=t,f.radius=e},addActorToScene:function(t,e,a){var o=!1;return T.traverse(function(e){e.name===t&&(o=!0)}),o?!1:(e!==T&&(e.name=t,a&&O[a]?O[a].add(e):T.add(e),O[t]=e,e.updateMatrix()),!0)},removeActorFromScene:function(t){var e,a=O[t];a&&(a.parent?(e=a.parent,e.remove(a)):z.remove(a),delete O[t])},actor:function(t){return O[t]||null},reportActors:function(){return Object.keys(O)},addBillboardToScene:function(t,e,a){this.addActorToScene(t,e,a)&&(A[t]=e)},removeBillboardFromScene:function(t){A[t]&&delete A[t],this.removeActorFromScene(t)},billboard:function(t){return A[t]||null},reportBillboards:function(){return Object.keys(A)},changeTemplateScene:function(t,e){z=T,T=e||new THREE.Scene,T.name=t,m.setClearColor(u,p),m.setSize(window.innerWidth,window.innerHeight),m.render(T,h)},gl:function(){return y}},{})}();return s||(s=new L),s}]);
"use strict";angular.module("app").factory("Keyframes",function(){console.log("\nKeyframes service defined");var e,n=config.keyframes,r=function(){function e(){}return $traceurRuntime.createClass(e,{keyframe:function(e){return n[e]||{}}},{})}();return e||(e=new r),e});
"use strict";angular.module("app").factory("Log",["config",function(n){var t,o,e=function(){function t(){}return $traceurRuntime.createClass(t,{log:function(t){n.log&&o.emit("log",t)},set_mediator:function(n){o=n}},{})}();return t||(t=new e),t}]);
"use strict";angular.module("app").factory("Mediator",["$rootScope","$location","Queue","Camera3d","Camera2d","Models","Mixin","Transform3d","Log","config",function(t,e,r,i,n,a,o,s,c,u){var d,f,h=(c.log,{}),l=function(){function a(){var a=this;this.$rootScope=t,this.location=e,this.mediator=this,this.queue=r,this.camera3d=i,this.camera2d=n,this.console=console,this.narrative=void 0,this.mixin=o,this.transform3d=s,this.config=u,this.targets=["mediator","narrative","camera3d","camera2d"],this.test_targets=["mixin","transform3d"],this.record_stream=u.record_stream,console.assert(this.mediator,"this.mediator undefined!"),console.assert(this.camera3d,"this.camera3d undefined!"),console.assert(this.camera2d,"this.camera2d undefined!"),console.assert(this.queue,"this.queue undefined!"),console.assert(this.mixin,"this.mixin undefined!"),console.assert(this.transform3d,"this.transform3d undefined!"),c.set_mediator(this),i.set_mediator(this),n.set_mediator(this),setInterval(function(){d.queue.ready&&a.next()},5e3)}return $traceurRuntime.createClass(a,{test:function(t){Array.isArray(t)},connect:function(){var t=this,e=u.server_host,r=u.channels_port;this.socket=io.connect("http://"+e+":"+r),this.socket.on("actions",function(e){t.queue.push(e)})},emit:function(t,e){return-1===u.channels_out.indexOf(t)?!1:void this.socket.emit(t,e)},queue_ready_next:function(){d.queue.ready=!0,d.next()},next:function(){f=d.queue.peek(),f&&(f=d.queue.pop(),this.exec(f),this.record_stream&&this.socket.emit("actions",f))},component:function(t,e){return void 0===e?h[t]:("narrative"===t&&(this.narrative=e),void(void 0===h[t]&&(h[t]=e,e.predecessor=null,e.enfants=[],this.mixin.include(e,{parent:function(t){return t?void(e.predecessor=t):e.predecessor},children:function(t){return t?void e.enfants.push(t):e.enfants},broadcast:function(t){new(Function.prototype.bind.apply(Function,$traceurRuntime.spread([null],t)))},emit:function(t){new(Function.prototype.bind.apply(Function,$traceurRuntime.spread([null],t)))}}))))},record:function(t){this.socket.emit("actions",t)},exec:function(t){var e,r,n,a,o=function(t){if(t.id){if(e=t.id.split(":"),1===e.length?r=i.actor(t.id):"i3d"===e[0]||0===e[0].length?r=i.actor(e[1]):e[1]&&(r=document.getElementById(e[1])),!r)throw new Error("Canera3d.actor("+t.id+") is not defined!");if(u.unit_test)return r;n=r,a=r[t.f]}else{if(console.assert(d[t.t],"mediator[action.t] UNDEFINED!"),console.assert(d[t.t][t.f],"mediator[action.t][action.f] UNDEFINED!"),!d[t.t])throw new Error("action target mediator."+t.t+" not defined!");if(!d[t.t][t.f])throw new Error(t.t+"."+t.f+" is not defined!");n=d[t.t],a=n[t.f]}if(!a)throw new Error(t.id?"actor("+t.id+")."+t.f+") is not defined!":t.t+"."+t.f+" is not defined!");if(Array.isArray(t.a))switch(t.a.length){case 1:if(u.unit_test)return{a0:t.a[0]};n[t.f](t.a[0]);break;case 2:if(u.unit_test)return{b0:t.a[0],b1:t.a[1]};n[t.f](t.a[0],t.a[1]);break;case 3:if(u.unit_test)return{c0:t.a[0],c1:t.a[1],c2:t.a[2]};n[t.f](t.a[0],t.a[1],t.a[2]);break;case 4:if(u.unit_test)return{d0:t.a[0],d1:t.a[1],d2:t.a[2],d3:t.a[3]};n[t.f](t.a[0],t.a[1],t.a[2],t.a[3]);break;default:if(u.unit_test)return t.a;throw n[t.f](t.a),new Error("CAUTION: >4 args in array treated as one array!")}else{if(u.unit_test)return t.a;n[t.f](t.a)}};if(Array.isArray(t)){var s=!0,f=!1,h=void 0;try{for(var l=void 0,m=t[$traceurRuntime.toProperty(Symbol.iterator)]();!(s=(l=m.next()).done);s=!0){var p=l.value;if(u.unit_test)return o(p);o(p)}}catch(v){f=!0,h=v}finally{try{s||null==m["return"]||m["return"]()}finally{if(f)throw h}}}else{if(!check.object(t))return console.log("!Mediator.emit(action - is NOT object)"),void c.log({t:"!Mediator",f:"emit",a:"action - is NOT object"});if(u.unit_test)return o(t);t.f&&"queue_ready_next"!==t.f&&c.log(t),o(t)}}},{})}();return d||(d=new l),d}]);
"use strict";angular.module("app").factory("Mixin",function(){var t,o=["object Array"],e=Object.prototype.toString,r=function(){function t(){}return $traceurRuntime.createClass(t,{extend:function(t,r){t=t||{},r=r||{};for(var n in r)r.hasOwnProperty(n)&&("object"==typeof n?(t[n]=e.call(n)===o?[]:{},this.extend(t[n],n)):t[n]=r[n])},include:function(t,r){t=t||{},t.prototype=t.prototype||{},r=r||{};for(var n in r)r.hasOwnProperty(n)&&("object"==typeof n?(t.prototype[n]=e.call(n)===o?[]:{},this.include(t.prototype[n],n)):t.prototype[n]=r[n])},extend_all:function(t,r){t=t||{},r=r||{};for(var n in r)"object"==typeof n?(t[n]=e.call(n)===o?[]:{},this.extend(t[n],n)):t[n]=r[n]},include_all:function(t,r){t=t||{},t.prototype=t.prototype||{},r=r||{};for(var n in r)"object"==typeof n?(t.prototype[n]=e.call(n)===o?[]:{},this.include(t.prototype[n],n)):t.prototype[n]=r[n]},verify:function(t,o){return t[o]?!0:!1}},{})}();return t||(t=new r),t});
"use strict";angular.module("app").factory("Mockserver",["Mediator","Log","config","TimelineMax","TweenMax","Quad",function(a,e,t,r,f,d){var c,l,o=(e.log,{p:0}),n={repeat:0,paused:!0,tweens:[]},m=$traceurRuntime.initGeneratorFunction(function j(){var a;return $traceurRuntime.createGeneratorInstance(function(e){for(;;)switch(e.state){case 0:a=-5,e.state=9;break;case 9:a=a+10+5*Math.random(),e.state=6;break;case 6:return e.state=2,a;case 2:e.maybeThrow(),e.state=9;break;default:return e.end()}},j,this)}),y=0,i=[{t:"camera3d",f:"panflyTo",a:{r:-.7854,d:3}},{t:"camera3d",f:"lookAt"},{t:"camera3d",f:"panflyTo",a:{r:-.7854,d:3}},{t:"camera3d",f:"home",a:{d:3}},{t:"camera3d",f:"panflyTo",a:{r:0,d:3}},{t:"narrative",f:"change_scene",a:"a"},{t:"narrative",f:"change_scene",a:"a0"},{t:"narrative",f:"change_scene",a:"a1"},{t:"narrative",f:"change_scene",a:"a2"},{t:"camera3d",f:"dollyflyTo",a:{x:10,y:10,z:-20,d:4}},{t:"narrative",f:"change_scene",a:"payments"},{t:"camera3d",f:"toggle_csphere",a:{val:!1}},{t:"camera3d",f:"toggle_csphere",a:{val:!0}},{t:"camera3d",f:"toggle_light",a:{name:"key",val:!1}},{t:"camera3d",f:"toggle_light",a:{name:"fill",val:!1}},{t:"camera3d",f:"toggle_light",a:{name:"back",val:!1}},{t:"camera3d",f:"toggle_light",a:{name:"key",val:!0}},{t:"camera3d",f:"toggle_light",a:{name:"fill",val:!0}},{t:"camera3d",f:"toggle_light",a:{name:"back",val:!0}},{t:"narrative",f:"change_scene",a:"a"},{t:"narrative",f:"shot",a:"shot-graft:"+growa0json},{t:"narrative",f:"shot",a:"shot-graft:"+growa1json},{t:"narrative",f:"shot",a:"shot-graft:"+growa2json},{t:"camera3d",f:"panflyTo",a:{r:.7854,d:4}},{t:"narrative",f:"change_scene",a:"footprint"},{t:"camera3d",f:"panflyTo",a:{r:.7854,d:4}},{t:"camera3d",f:"tiltflyTo",a:{r:.7854,d:4}},{t:"camera3d",f:"billboardsFaceCamera"},{t:"camera3d",f:"tiltflyBy",a:{r:-.7854,d:4}},{t:"camera3d",f:"panflyBy",a:{r:-.7854,d:4}},{t:"narrative",f:"change_scene",a:"circle"},{t:"narrative",f:"change_state",a:"/circle:/i3d-simple:simple_red/i2d-scene:mf2d0/base-skycube:test_cube/ui-msgbg:/shot-fixed:"},{t:"narrative",f:"change_scene",a:"stocks"},{t:"narrative",f:"change_state",a:"///i2d-scene:mf2d0///shot-fixed:"},{t:"camera3d",f:"panflyBy",a:{r:-.7854,d:4}}],s=[{t:"camera2d",f:"zoomflyBy",a:{s:.9,d:3}},{t:"camera2d",f:"zoomflyTo",a:{s:2,d:3}},{t:"camera2d",f:"zoomflyTo",a:{s:.5,d:3}},{t:"camera2d",f:"dollyflyTo",a:{x:20,d:3}},{t:"camera2d",f:"center",a:{d:3}},{t:"camera2d",f:"home",a:{d:3}},{t:"camera2d",f:"rollflyTo",a:{r:-90,d:3}},{t:"camera2d",f:"rollflyBy",a:{r:45,d:3}},{t:"camera2d",f:"rollflyBy",a:{r:45,d:3}},{t:"camera2d",f:"dollyflyTo",a:{x:20,d:3}},{t:"camera2d",f:"dollyflyTo",a:{y:20,d:3}},{t:"camera2d",f:"dollyflyTo",a:{x:0,d:3}},{t:"camera2d",f:"dollyflyTo",a:{y:-40,d:3}},{t:"camera2d",f:"dollyflyTo",a:{x:20,d:3}},{t:"camera2d",f:"dollyflyTo",a:{x:0,d:3}}],h=[{t:"camera3d",f:"tiltflyTo",a:{r:-.7854,d:3}},{t:"camera3d",f:"panflyTo",a:{r:-.7854,d:3}},{t:"camera3d",f:"lookAt"},{t:"camera3d",f:"dollyflyTo",a:{x:20,y:0,z:0,d:3}},{t:"camera3d",f:"zoomflyTo",a:{s:.5,d:3}},{t:"camera3d",f:"zoomflyTo",a:{s:2,d:3}},{t:"camera3d",f:"dollyflyTo",a:{x:20,y:20,z:-20,d:3}},{t:"camera3d",f:"zoomflyTo",a:{s:.5,d:3}},{t:"camera3d",f:"center",a:{d:3}},{t:"camera3d",f:"home",a:{d:3}},{t:"camera3d",f:"panflyBy",a:{r:.7854,d:3}},{t:"camera3d",f:"tiltflyBy",a:{r:.7854,d:3}},{t:"camera3d",f:"lookAt"},{t:"camera3d",f:"rollflyTo",a:{r:-1.57,d:4}},{t:"camera3d",f:"rollflyBy",a:{r:.3927,d:4}},{t:"camera3d",f:"rollflyBy",a:{r:.3927,d:4}},{t:"camera3d",f:"center",a:{d:3}},{t:"camera3d",f:"yawflyTo",a:{r:1.57,d:3}},{t:"camera3d",f:"yawflyBy",a:{r:-.7854,d:3}},{t:"camera3d",f:"yawflyBy",a:{r:-.7854,d:3}},{t:"camera3d",f:"pitchflyTo",a:{r:-1.57,d:3}},{t:"camera3d",f:"pitchflyBy",a:{r:.7854,d:3}},{t:"camera3d",f:"pitchflyBy",a:{r:.7854,d:3}},{t:"camera3d",f:"dollyflyTo",a:{x:20,y:-20,z:-30,d:3}},{t:"camera3d",f:"dollyflyTo",a:{x:0,y:0,z:30,d:6}},{t:"camera3d",f:"tiltflyBy",a:{r:.7854,d:3}},{t:"camera3d",f:"zoomflyTo",a:{s:2,d:3}},{t:"camera3d",f:"home",a:{d:3}},{t:"narrative",f:"change_scene",a:"payments"},{t:"narrative",f:"change_state",a:"///i2d-scene:mf2d0///shot-fixed:"},{t:"camera3d",f:"panflyBy",a:{r:-.7854,d:4}},{t:"camera3d",f:"tiltflyBy",a:{r:-.7854,d:4}},{t:"narrative",f:"change_state",a:"////base-skycube:test_bg//"},{t:"camera3d",f:"panflyTo",a:{r:.7854,d:4}},{t:"narrative",f:"change_state",a:"////base-skycube:no-anim//{}"},{t:"camera3d",f:"zoomflyBy",a:{s:.3,d:4}},{t:"camera3d",f:"center",a:{d:3}},{t:"camera3d",f:"home",a:{d:3}},{t:"narrative",f:"change_state",a:"////videocam://shot-fixed:"}],g=[];if(t.e2e_test){var u=!0,v=!1,p=void 0;try{for(var T=void 0,_=t.e2e_spec[$traceurRuntime.toProperty(Symbol.iterator)]();!(u=(T=_.next()).done);u=!0){var b=T.value;g.push(b.action)}}catch(x){v=!0,p=x}finally{try{u||null==_["return"]||_["return"]()}finally{if(v)throw p}}}else g=g.concat(i).concat(s).concat(h);var B=function(){function e(){}return $traceurRuntime.createClass(e,{start:function(){l.play()},queue:function(e){a.queue.push(e)}},{})}();if(!c){c=new B;var k=!0,w=!1,z=void 0;try{for(var R=void 0,M=m()[$traceurRuntime.toProperty(Symbol.iterator)]();!(k=(R=M.next()).done);k=!0){var $=R.value;if(y>=g.length){l=new r(n);break}n.tweens.push(f.to(o,5,{p:0,delay:$,immediateRender:!1,onComplete:c.queue,onCompleteParams:[g[y]]})),y+=1}}catch(C){w=!0,z=C}finally{try{k||null==M["return"]||M["return"]()}finally{if(w)throw z}}}return c}]);
"use strict";angular.module("app").factory("Models",["config",function(t){var e,s=function(){function e(){this.models=t.models}return $traceurRuntime.createClass(e,{get:function(t,e,s){return this.models[t]&&e&&this.models[t][e]?this.models[t][e][s]?this.models[t][e][s]:this.models[t][e]:{}},put:function(t,e,s,o){if(!this.models[t])throw"this.models["+t+"] does NOT exist!";if(!e)throw"template-name MUST be provided!";s?this.models[t][e][s]=o||{}:this.models[t][e]=o||{}}},{})}();return e||(e=new s),e}]);
"use strict";angular.module("app").factory("Queue",function(){var t,i=function(){function t(){this.fifo=[],this.ready=!0}return $traceurRuntime.createClass(t,{push:function(t){this.fifo.push(t)},pop:function(){return this.fifo.length>0?this.fifo.shift():void 0},peek:function(){return this.fifo.length>0?this.fifo[0]:void 0}},{})}();return t||(t=new i),t});
"use strict";angular.module("app").factory("Transform3d",["Log",function(r){var a,e=function(){function a(){}return $traceurRuntime.createClass(a,{apply:function(a,e){var t=new THREE.Matrix4,n=void 0,o=void 0,i=void 0;if(!check.object(a))return console.log("!Transform3d.apply(transform - is NOT object)"),r.log({t:"!Transform3d",f:"apply",a:"transform - is NOT object"}),t;if(a.q){var l=a.q,u=new THREE.Quaternion(l[0],l[1],l[2],l[3]);n=(new THREE.Matrix4).makeRotationFromQuaternion(u)}if(a.e){var f=a.e,s=new THREE.Euler(f[0],f[1],f[2]);n=(new THREE.Matrix4).makeRotationFromEuler(s)}if(a.t){var c=a.t;o=(new THREE.Matrix4).makeTranslation(c[0],c[1],c[2])}if(a.s){var m=a.s;i=(new THREE.Matrix4).makeScale(m[0],m[1],m[2])}return t=o||t,n&&(t=t.multiply(n)),i&&(t=t.multiply(i)),e&&e.applyMatrix(t),t},verify:function(r,a){var e,t=r.elements,n=a.elements,o=!0,i=[],l=[];for(e=0;e<t.length;e++)if(i[e]=Math.abs(t[e]-n[e]),l.push("a["+e+"]="+t[e]+" aa["+e+"]="+n[e]+" d[i]="+i[e]),Math.abs(i[e])>.01){for(o=!1,e=0;e<l.length;e++)console.log("error: "+l[e]);break}return o}},{})}();return a||(a=new e),a}]);
"use strict";angular.module("app").directive("baseVideocam",["Mediator","Log",function(e,t){var a=(t.log,function(){function e(){this.id="videocam"}return $traceurRuntime.createClass(e,{},{})}());return{restrict:"EA",scope:"false",replace:"false",templateNamespace:"html",controller:a,controllerAs:"videocam",bindToController:!0,link:function(t,a,i,r){r.id=i.id,e.component(r.id,r);var o=document.getElementById("video"),n={video:!0},c=function(e){};navigator.getUserMedia?navigator.getUserMedia(n,function(e){o.src=e,o.play()},c):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(n,function(e){o.src=window.URL.createObjectURL(e),o.play()},c):navigator.mozGetUserMedia&&navigator.mozGetUserMedia(n,function(e){o.src=window.URL.createObjectURL(e),o.play()},c)}}}]);
"use strict";angular.module("app").directive("i2dForm",["$templateCache",function(e){return{restrict:"EA",scope:"true",replace:"false",templateUrl:function(e,t){return t.i2dTemplate},templateNamespace:"svg",link:function(e,t,r){}}}]);
"use strict";angular.module("app").directive("i3dAmbientlight",["Camera3d","Transform3d","Log","colourToHex",function(e,t,r,i){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",link:function(t,r,o){var n,a=o.id,c=t.p||{},d=c.pid,f=o.color||"#ffffff";t.p={},t.p.pid=a,/^(#|0x)/.test(f)||(f=i(f)),n=new THREE.AmbientLight(f),e.addActorToScene(a,n,d),r.on("$destroy",function(){})}}}]);
"use strict";angular.module("app").directive("i3dAxes",["Camera3d","Transform3d","Log",function(e,r,a){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",link:function(a,t,p){var n,s=p.id,i=a.p||{},o=i.pid,c=p.length||3e3,d=JSON.parse(p.transform||"{}");a.p={},a.p.pid=s,n=new THREE.AxisHelper(parseFloat(c)),e.addActorToScene(s,n,o),r.apply(d,n),t.on("$destroy",function(){})}}}]);
"use strict";angular.module("app").directive("i3dBillboard",["Camera3d","Transform3d","Log","colourToHex",function(e,t,n,r){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",compile:function(n,a){var i,o,l,p,E,d,c,s,u,m,T,f,g,H=function(){g=new THREE.MeshBasicMaterial({color:c,transparent:u,opacity:s,wireframe:m}),g.depthTest=!1,g.blending=THREE.CustomBlending,g.blendSrc=THREE.SrcAlphaFactor,g.blendDst=THREE.OneMinusSrcAlphaFactor,g.blendEquation=THREE.AddEquation},R=function(e){e.magFilter=THREE.LinearFilter,e.minFilter=THREE.LinearMipMapLinearFilter,e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,f=new THREE.ShaderMaterial({uniforms:{color:{type:"f",value:1},map:{type:"t",value:e}},vertexShader:document.getElementById("vsh.glsl").text,fragmentShader:document.getElementById("fsh.glsl").text,transparent:!0}),f.blendSrc=THREE.SrcAlphaFactor,f.blendDst=THREE.OneMinusSrcAlphaFactor,f.blendEquation=THREE.AddEquation,g=f},h=function(n,r,a){var i=new THREE.Mesh(T,g);i.material.side=THREE.FrontSide,e.addBillboardToScene(n,i,r),t.apply(a,i)},w=function(e,t,n){var a,f=n.id,g=e.p||{},w=g.pid,S=JSON.parse(n.transform||"{}");e.p={},e.p.pid=f,i=JSON.parse(n.form)||{},o=i.w||50,l=i.h||50,p=/true/i.test(i.aspect),E=window.innerWidth/window.innerHeight,c=i.color||"green",m=i.wireframe||!1,d=i.textureurl,u=i.transparent||!0,s=i.opacity||1,/^(#|0x)/.test(c)||(c=r(c)),T=new THREE.BoxGeometry(o,l,0),d?/(_png|_jpg|_gif|_bmp)/.test(d)?(d?R(window[d]):H(),h(f,w,S)):a=THREE.ImageUtils.loadTexture(d,THREE.UVMapping,function(){R(a),h(f,w,S)},null,function(){H(),h(f,w,S)}):(H(),h(f,w,S)),t.on("$destroy",function(){})},S=function(e,t,n){};return{pre:w,post:S}}}}]);
"use strict";angular.module("app").directive("i3dCamerasphere",["Camera3d","Transform3d","Log","colourToHex",function(e,r,t,a){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",link:function(t,i,o){var s,n,p,c,l,d,u,m,f,E,T,h=o.id,y=t.p||{},S=y.pid;t.p={},t.p.pid=h,s=JSON.parse(o.form||"{}"),n=s.r||50,p=s.visible,c=s.color||"green",l=s.wireframe||!1,d=s.transparent||!0,u=s.opacity||1,m=JSON.parse(o.transform||"{}"),/^(#|0x)/.test(c)||(c=a(c)),p=/true/i.test(p),d=/true/i.test(d),l=/true/i.test(l),f=new THREE.SphereGeometry(n),E=new THREE.MeshBasicMaterial({visible:p,transparent:d,opacity:u,wireframe:l,color:c}),T=new THREE.Mesh(f,E),T.material.side=THREE.DoubleSide,T.position.x=0,T.position.y=0,T.position.z=0,e.attachAsSurfaceChild(T,n),e.addActorToScene(h,T,S),r.apply(m,T),i.on("$destroy",function(){})}}}]);
"use strict";angular.module("app").directive("i3dCube",["Camera3d","Transform3d","Log","colourToHex",function(e,t,r,n){return{restrict:"E",scope:!0,replace:!1,templateNamespace:"svg",compile:function(r,a){var i,o,p,l,E,c,d,u,s,m,T,f,R=function(){f=new THREE.MeshBasicMaterial({color:c,transparent:u,opacity:d,wireframe:s}),f.depthTest=!1,f.blending=THREE.CustomBlending,f.blendSrc=THREE.SrcAlphaFactor,f.blendDst=THREE.OneMinusSrcAlphaFactor,f.blendEquation=THREE.AddEquation},g=function(e){e.magFilter=THREE.LinearFilter,e.minFilter=THREE.LinearMipMapLinearFilter,e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,T=new THREE.ShaderMaterial({uniforms:{color:{type:"f",value:1},map:{type:"t",value:e}},vertexShader:document.getElementById("vsh.glsl").text,fragmentShader:document.getElementById("fsh.glsl").text,transparent:!0}),T.blendSrc=THREE.SrcAlphaFactor,T.blendDst=THREE.OneMinusSrcAlphaFactor,T.blendEquation=THREE.AddEquation,f=T},H=function(r,n,a){var i=new THREE.Mesh(m,f);i.material.side=THREE.DoubleSide,e.addActorToScene(r,i,n),t.apply(a,i)},S=function(e,t,r){var a,T,f=r.id,S=e.p||{},h=S.pid;e.p={},e.p.pid=f,i=JSON.parse(r.form)||{},o=i.w||5,p=i.h||5,l=i.d||5,c=i.color||"green",s=i.wireframe||!1,E=i.textureurl,u=i.transparent||!0,d=i.opacity||1,T=JSON.parse(r.transform||"{}"),/^(#|0x)/.test(c)||(c=n(c)),m=new THREE.BoxGeometry(o,p,l),E?/(_png|_jpg|_gif|_bmp)/.test(E)?(E?g(window[E]):R(),H(f,h,T)):a=THREE.ImageUtils.loadTexture(E,THREE.UVMapping,function(){g(a),H(f,h,T)},null,function(){R(),H(f,h,T)}):(R(),H(f,h,T)),t.on("$destroy",function(){})},h=function(e,t,r){};return{pre:S,post:h}}}}]);
"use strict";angular.module("app").directive("i3dDirectionallight",["Camera3d","Transform3d","Log","colourToHex",function(e,t,r,o){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",link:function(r,i,a){var n,c=a.id,p=r.p||{},s=p.pid,l=parseFloat(a.directionx||"0.0"),d=parseFloat(a.directiony||"-1.0"),f=parseFloat(a.directionz||"0.0"),u=a.color||"#ffffff",g=JSON.parse(a.transform||"{}");r.p={},r.p.pid=c,/^(#|0x)/.test(u)||(u=o(u)),n=new THREE.DirectionalLight(u),n.target.position.set(l,d,f),e.addActorToScene(c,n,s),t.apply(g,n),i.on("$destroy",function(){})}}}]);
"use strict";angular.module("app").directive("i3dForm",["$templateCache",function(e){return{restrict:"EA",scope:"true",replace:"false",templateUrl:function(e,t){return t.i3dTemplate},templateNamespace:"svg",link:function(e,t,r){t.on("$destroy",function(){})}}}]);
"use strict";angular.module("app").directive("i3dGround",["Camera3d","Transform3d","Log","colourToHex",function(e,t,n,r){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",compile:function(n,a){var i,o,p,l,E,c,d,u,s,T,m,f=function(){m=new THREE.MeshBasicMaterial({color:E,transparent:c,opacity:u}),m.depthTest=!1,m.blending=THREE.CustomBlending,m.blendSrc=THREE.SrcAlphaFactor,m.blendDst=THREE.OneMinusSrcAlphaFactor,m.blendEquation=THREE.AddEquation},R=function(e){e.magFilter=THREE.LinearFilter,e.minFilter=THREE.LinearMipMapLinearFilter,e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,T=new THREE.ShaderMaterial({uniforms:{color:{type:"f",value:1},map:{type:"t",value:e}},vertexShader:document.getElementById("vsh.glsl").text,fragmentShader:document.getElementById("fsh.glsl").text,transparent:!0}),T.blendSrc=THREE.SrcAlphaFactor,T.blendDst=THREE.OneMinusSrcAlphaFactor,T.blendEquation=THREE.AddEquation,m=T},g=function(n,r,a){var i=new THREE.Mesh(s,m);i.material.side=THREE.DoubleSide,i.rotation.x=-.5*Math.PI,e.addActorToScene(n,i,r),t.apply(a,i)},H=function(e,t,n){var a,T,m=n.id,H=e.p||{},h=H.pid;e.p={},e.p.pid=m,i=JSON.parse(n.form||"{}"),o=i.w||20,p=i.h||20,E=i.color||"green",d=i.wireframe||!1,l=i.textureurl,c=i.transparent||!0,u=i.opacity||1,a=JSON.parse(n.transform||"{}"),/^(#|0x)/.test(E)||(E=r(E)),s=new THREE.PlaneBufferGeometry(o,p,1,1),l?/(_png|_jpg|_gif|_bmp)/.test(l)?(l?R(window[l]):f(),g(m,h,a)):T=THREE.ImageUtils.loadTexture(l,THREE.UVMapping,function(){R(T),g(m,h,a)},null,function(){f(),g(m,h,a)}):(f(),g(m,h,a)),t.on("$destroy",function(){})},h=function(e,t,n){};return{pre:H,post:h}}}}]);
"use strict";angular.module("app").directive("i3dJsonmodel",["Camera3d","Transform3d","Log","colourToHex",function(e,r,n,t){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",compile:function(n,a){var o,i,p,l,s,c,u,E,d,m,f,g,T,R=function(){T=E?new THREE.MeshPhongMaterial({color:p,wireframe:c,emissive:u,specular:d,shininess:m,shading:!0,fog:!0}):new THREE.MeshBasicMaterial({color:p,wireframe:c}),T.transparent=s,T.opacity=l},h=function(e){e.magFilter=THREE.LinearFilter,e.minFilter=THREE.LinearMipMapLinearFilter,e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,g=new THREE.ShaderMaterial({uniforms:{color:{type:"f",value:1},map:{type:"t",value:e}},vertexShader:document.getElementById("vsh.glsl").text,fragmentShader:document.getElementById("fsh.glsl").text,transparent:!0}),g.blendSrc=THREE.SrcAlphaFactor,g.blendDst=THREE.OneMinusSrcAlphaFactor,g.blendEquation=THREE.AddEquation,T=g},H=function(n,t,a,o){var i,p=new THREE.JSONLoader;p.load(o,function(o,p){i=new THREE.Mesh(o,T),e.addActorToScene(n,i,t),r.apply(a,i)})},w=function(e,r,n){var a,g,T=n.id,w=e.p||{},v=w.pid;e.p={},e.p.pid=T,o=JSON.parse(n.form)||{},f=o.jsonmodel_url,p=o.color||"green",c=o.wireframe||!1,i=o.textureurl,s=o.transparent||!0,l=o.opacity||1,E=o.phong||!1,d=o.specular_color||p,m=o.shininess||30,u=o.emissive_color||0,g=JSON.parse(n.transform||"{}"),/^(#|0x)/.test(p)||(p=t(p)),i?/(_png|_jpg|_gif|_bmp)/.test(i)?(i?h(window[i]):R(),H(T,v,g,f)):a=THREE.ImageUtils.loadTexture(i,THREE.UVMapping,function(){h(a),H(T,v,g,f)},null,function(){R(),H(T,v,g,f)}):(R(),H(T,v,g,f)),r.on("$destroy",function(){})},v=function(e,r,n){};return{pre:w,post:v}}}}]);
"use strict";angular.module("app").directive("i3dMetaform",["Mediator","Camera3d",function(e,r){var t=function(){function e(){this.id=""}return $traceurRuntime.createClass(e,{},{})}();return{restrict:"E",scope:"false",replace:"false",templateNamespace:"svg",controller:t,controllerAs:"metaform",bindToController:!0,link:function(r,t,i,n){n.id=i.id,n.pid=i.pid,r.p={},r.p.pid=n.pid,e.component(n.id,n)}}}]);
"use strict";angular.module("app").directive("i3dPointlight",["Camera3d","Transform3d","Log","colourToHex",function(e,t,a,i){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",link:function(a,n,r){var o,s=r.id,p=a.p||{},c=p.pid,d=r.color||"#ffffff",f=parseFloat(r.intensity||"1.0"),l=parseFloat(r.distance||"0.0"),u=JSON.parse(r.transform||"{}");a.p={},a.p.pid=s,/^(#|0x)/.test(d)||(d=i(d)),o=new THREE.PointLight(d),o.intensity=f,o.distance=l,e.addActorToScene(s,o,c),t.apply(u,o),n.on("$destroy",function(){})}}}]);
"use strict";angular.module("app").directive("i3dReplace",function(){return{require:"ngInclude",restrict:"A",link:function(e,i,r){i.children()&&i.replaceWith(i.children())}}});
"use strict";angular.module("app").directive("i3dSphere",["Camera3d","Transform3d","Log","colourToHex",function(e,r,t,n){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",compile:function(t,a){var i,o,p,s,l,c,E,u,d,m,f,g,T,h,R,H,w=function(){H=f?new THREE.MeshPhongMaterial({color:c,wireframe:d,emissive:m,specular:g,shininess:T,shading:!0,fog:!0}):new THREE.MeshBasicMaterial({color:c,wireframe:d}),H.transparent=u,H.opacity=E},S=function(e){e.magFilter=THREE.LinearFilter,e.minFilter=THREE.LinearMipMapLinearFilter,e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,R=new THREE.ShaderMaterial({uniforms:{color:{type:"f",value:1},map:{type:"t",value:e}},vertexShader:document.getElementById("vsh.glsl").text,fragmentShader:document.getElementById("fsh.glsl").text,transparent:!0}),R.blendSrc=THREE.SrcAlphaFactor,R.blendDst=THREE.OneMinusSrcAlphaFactor,R.blendEquation=THREE.AddEquation,H=R},v=function(t,n,a){var i=new THREE.Mesh(h,H);i.material.side=THREE.DoubleSide,e.addActorToScene(t,i,n),r.apply(a,i)},M=function(e,r,t){var a,R,H=t.id,M=e.p||{},y=M.pid;e.p={},e.p.pid=H,i=JSON.parse(t.form)||{},o=i.r||5,p=i.wsegments||8,s=i.hsegments||9,c=i.color||"green",d=i.wireframe||!1,l=i.textureurl,u=i.transparent||!0,E=i.opacity||1,f=i.phong||!1,g=i.specular_color||c,T=i.shininess||30,m=i.emissive_color||0,R=JSON.parse(t.transform||"{}"),/^(#|0x)/.test(c)||(c=n(c)),h=new THREE.SphereGeometry(o,p,s),l?/(_png|_jpg|_gif|_bmp)/.test(l)?(l?S(window[l]):w(),v(H,y,R)):a=THREE.ImageUtils.loadTexture(l,THREE.UVMapping,function(){S(a),v(H,y,R)},null,function(){w(),v(H,y,R)}):(w(),v(H,y,R)),r.on("$destroy",function(){})},y=function(e,r,t){};return{pre:M,post:y}}}}]);
"use strict";angular.module("app").directive("i3dSpotlight",["Camera3d","Transform3d","Log","colourToHex",function(a,e,t,s){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",link:function(t,o,r){var p,d=r.id,i=t.p||{},l=i.pid,n=r.color||"#ffffff",h=parseFloat(r.intensity||"1.0"),F=parseFloat(r.distance||"0.0"),c=parseFloat(r.angle||"1.047197551"),w=parseFloat(r.exponential||"10.0"),f=parseFloat(r.targetx||"0.0"),g=parseFloat(r.targety||"0.0"),m=parseFloat(r.targetz||"0.0"),u=/true/i.test(r.castShadow||"false"),C=parseFloat(r.shadowCameraNear||"50.0"),S=parseFloat(r.shadowCameraFar||"5000.0"),x=parseFloat(r.shadowCameraFOV||"50.0"),y=parseFloat(r.shadowBias||"0.0"),H=parseFloat(r.shadowDarkness||"0.5"),M=parseFloat(r.shadowMapWidth||"512"),N=parseFloat(r.shadowMapHeight||"512"),T=JSON.parse(r.transform||"{}");t.p={},t.p.pid=d,/^(#|0x)/.test(n)||(n=s(n)),p=new THREE.SpotLight(n),p.intensity=h,p.distance=F,p.angle=c,p.exponential=w,p.castShadow=u,p.shadowCameraNear=C,p.shadowCameraFar=S,p.shadowCameraFOV=x,p.shadowBias=y,p.shadowDarkness=H,p.shadowMapWidth=M,p.shadowMapHeight=N,a.addActorToScene(d,p,l),e.apply(T,p),p.target.position.set(f,g,m),o.on("$destroy",function(){})}}}]);
"use strict";angular.module("app").directive("i3dTetrahedron",["Camera3d","Transform3d","Log","colourToHex",function(e,t,r,n){return{restrict:"E",scope:"true",replace:"false",templateNamespace:"svg",compile:function(r,a){var i,o,p,l,E,c,d,s,u,T,m,f=function(){m=new THREE.MeshBasicMaterial({color:E,transparent:d,opacity:c,wireframe:s}),m.depthTest=!1,m.blending=THREE.CustomBlending,m.blendSrc=THREE.SrcAlphaFactor,m.blendDst=THREE.OneMinusSrcAlphaFactor,m.blendEquation=THREE.AddEquation},R=function(e){e.magFilter=THREE.LinearFilter,e.minFilter=THREE.LinearMipMapLinearFilter,e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,T=new THREE.ShaderMaterial({uniforms:{color:{type:"f",value:1},map:{type:"t",value:e}},vertexShader:document.getElementById("vsh.glsl").text,fragmentShader:document.getElementById("fsh.glsl").text,transparent:!0}),T.blendSrc=THREE.SrcAlphaFactor,T.blendDst=THREE.OneMinusSrcAlphaFactor,T.blendEquation=THREE.AddEquation,m=T},g=function(r,n,a){var i=new THREE.Mesh(u,m);i.material.side=THREE.DoubleSide,e.addActorToScene(r,i,n),t.apply(a,i)},H=function(e,t,r){var a,T,m=r.id,H=e.p||{},h=H.pid;e.p={},e.p.pid=m,i=JSON.parse(r.form)||{},o=i.r||1,p=i.detail||0,E=i.color||"green",s=i.wireframe||!1,l=i.textureurl,d=i.transparent||!0,c=i.opacity||1,T=JSON.parse(r.transform||"{}"),/^(#|0x)/.test(E)||(E=n(E)),u=new THREE.TetrahedronGeometry(o,p),l?/(_png|_jpg|_gif|_bmp)/.test(l)?(l?R(window[l]):f(),g(m,h,T)):a=THREE.ImageUtils.loadTexture(l,THREE.UVMapping,function(){R(a),g(m,h,T)},null,function(){f(),g(m,h,T)}):(f(),g(m,h,T)),t.on("$destroy",function(){})},h=function(e,t,r){};return{pre:H,post:h}}}}]);
"use strict";angular.module("app").directive("uiMsgbg",["$templateCache","$rootScope","$timeout","Mediator",function(e,t,n,o){var c=function(){function e(){}return $traceurRuntime.createClass(e,{msg_changed:function(){}},{})}();return{restrict:"E",replace:!0,templateNamespace:"html",template:"<div ng-style='{background: msgbg.bgcolor}'style='transform:translateX(-26%) scaleX(.5)' ><input type='text' ng-model='msgbg.msg' ng-change='msgbg.msg_changed()'>m.bgc:{{msgbg.bgcolor}} ui.bgc:{{$parent.ui.bgcolor}}</div>",scope:{},controller:c,controllerAs:"msgbg",bindToController:{bgcolor:"=",msg:"="},link:function(e,t,o,c){c.id=o.id,n(function(){e.$apply(function(){c.bgcolor="green"})},2e3),n(function(){e.$apply(function(){c.bgcolor="yellow"})},4e3)}}}]);
"use strict";var no_anim={faces:{front:"url('./images/css3d/1.png'), linear-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)",back:"url('./images/css3d/1.png'), linear-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)",left:"url('./images/css3d/1.png'), linear-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)",right:"url('./images/css3d/1.png'), linear-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)",sky:"url('./images/css3d/1.png'), radial-gradient(rgba(0,0,255,0.3), rgba(255,0,0,0.3)",ground:"url('./images/css3d/1.png'), radial-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)"},cube:{},animation:{dur:"0s",repeat:"0"}};
"use strict";var test_bg={faces:{front:"url('./images/css3d/moon_tr.png'), radial-gradient(rgba(255,0,0,0.2), rgba(20,0,200,0.0) 80%)",back:"url('./images/css3d/moon_tr.png')",left:"url('./images/css3d/moon_tr.png'),radial-gradient(rgba(20,0,200,0.2), rgba(255,0,0,0.0) 80%)",right:"url('./images/css3d/moon_tr.png'),radial-gradient(rgba(20,0,200,0.2), rgba(255,0,0,0.0) 80%)",sky:"url('./images/css3d/moon_tr.png')",ground:"url('./images/css3d/moon_tr.png')"},cube:{perspective:"100px",bg:"linear-gradient(0deg, rgba(255,0,0,0.3), rgba(20,0,200,0.3) 80%), url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight_corner.png')"},animation:{dur:"120s",repeat:"infinite"}};
"use strict";var test_cube={faces:{front:"url('./images/css3d/1.png'), linear-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)",back:"url('./images/css3d/1.png'), linear-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)",left:"url('./images/css3d/1.png'), linear-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)",right:"url('./images/css3d/1.png'), linear-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)",sky:"url('./images/css3d/1.png'), radial-gradient(rgba(0,0,255,0.3), rgba(255,0,0,0.3)",ground:"url('./images/css3d/1.png'), radial-gradient(rgba(255,0,0,0.3), rgba(0,0,255,0.3)"},cube:{},animation:{dur:"120s",repeat:"infinite"}};
"use strict";var face_test={faces:{front:"repeating-linear-gradient(0deg, rgba(255,0,0,0.4), rgba(30,30,50,0.5) 10%, rgba(50,0,255,0.5) 12%, rgba(30,30,50,0.5) 20%)",back:"repeating-linear-gradient(0deg, rgba(255,0,0,0.4), rgba(30,30,50,0.5) 10%, rgba(50,0,255,0.5) 12%, rgba(30,30,50,0.5) 20%)",left:"repeating-linear-gradient(0deg, rgba(255,0,0,0.4), rgba(30,30,50,0.5) 10%, rgba(50,0,255,0.5) 12%, rgba(30,30,50,0.5) 20%)",right:"repeating-linear-gradient(0deg, rgba(255,0,0,0.4), rgba(30,30,50,0.5) 10%, rgba(50,0,255,0.5) 12%, rgba(30,30,50,0.5) 20%)",sky:"repeating-linear-gradient(0deg, rgba(255,0,0,0.4), rgba(30,30,50,0.5) 10%, rgba(50,0,255,0.5) 12%, rgba(30,30,50,0.5) 20%)",ground:"repeating-linear-gradient(0deg, rgba(255,0,0,0.4), rgba(30,30,50,0.5) 10%, rgba(50,0,255,0.5) 12%, rgba(30,30,50,0.5) 20%)"},cube:{perspective:"900px",perspective_origin:"200px 200px"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var gladioluses={faces:{front:"url('./images/css3d/2.png')",back:"url('./images/css3d/1.png')",left:"url('./images/css3d/3.png')",right:"url('./images/css3d/1.png')",sky:"url('./images/css3d/3.png')",ground:"url('./images/css3d/2.png')"},cube:{perspective:"300px",perspective_origin:"200px 200px"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var gladioluses_warp={faces:{front:"url('./images/css3d/2.png')",back:"url('./images/css3d/1.png')",left:"url('./images/css3d/3.png')",right:"url('./images/css3d/1.png')",sky:"url('./images/css3d/3.png')",ground:"url('./images/css3d/2.png')"},cube:{perspective:"900px",perspective_origin:"200px 200px"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var snow={faces:{front:"url('./images/css3d/skybox/snow/snow_posZ.jpg')",back:"url('./images/css3d/skybox/snow/snow_negZ.jpg')",left:"url('./images/css3d/skybox/snow/snow_negX.jpg')",right:"url('./images/css3d/skybox/snow/snow_posX.jpg')",sky:"url('./images/css3d/skybox/snow/snow_posY.jpg')",ground:"url('./images/css3d/skybox/snow/snow_negY.jpg')"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var vasarely_nearpsp={faces:{front:"url('./images/css3d/vasarely.png')",back:"url('./images/css3d/vasarely.png')",left:"url('./images/css3d/vasarely.png')",right:"url('./images/css3d/vasarely.png')",sky:"url('./images/css3d/vasarely.png')",ground:"url('./images/css3d/vasarely.png')"},cube:{perspective:"50px",bg:"url('./images/css3d/vasarely.png')"},animation:{dur:"120s",repeat:"infinite"}};
"use strict";var action_skate={faces:{front:"url('./images/css3d/action_skate.png')",back:"url('./images/css3d/action_skate.png')",left:"url('./images/css3d/action_skate.png')",right:"url('./images/css3d/action_skate.png')",sky:"url('./images/css3d/action_skate.png')",ground:"url('./images/css3d/action_skate.png')"},animation:{dur:"30s",repeat:"infinite"}};
"use strict";var action_ski={faces:{front:"url('./images/css3d/action_ski.png')",back:"url('./images/css3d/action_ski.png')",left:"url('./images/css3d/action_ski.png')",right:"url('./images/css3d/action_ski.png')",sky:"url('./images/css3d/action_ski.png')",ground:"url('./images/css3d/action_ski.png')"},animation:{dur:"30s",repeat:"infinite"}};
"use strict";var blocks={faces:{front:"url('./images/css3d/blocks.png')",back:"url('./images/css3d/blocks.png')",left:"url('./images/css3d/blocks.png')",right:"url('./images/css3d/blocks.png')",sky:"url('./images/css3d/blocks.png')",ground:"url('./images/css3d/blocks.png')"},cube:{perspective:"20px",perspective_origin:"250px 100px"},animation:{dur:"30s",repeat:"infinite"}};
"use strict";var blocks_center={faces:{front:"url('./images/css3d/blocks.png')",back:"url('./images/css3d/blocks.png')",left:"url('./images/css3d/blocks.png')",right:"url('./images/css3d/blocks.png')",sky:"url('./images/css3d/blocks.png')",ground:"url('./images/css3d/blocks.png')"},cube:{perspective:"20px",perspective_origin:"200px 100px"},animation:{dur:"30s",repeat:"infinite"}};
"use strict";var blocks_stream={faces:{front:"url('./images/css3d/blocks.png')",back:"url('./images/css3d/blocks.png')",left:"url('./images/css3d/blocks.png')",right:"url('./images/css3d/blocks.png')",sky:"url('./images/css3d/blocks.png')",ground:"url('./images/css3d/blocks.png')"},cube:{perspective:"20px",perspective_origin:"16px 100px"},animation:{dur:"30s",repeat:"infinite"}};
"use strict";var dome={faces:{front:"url('./images/css3d/dome.jpg')",back:"url('./images/css3d/dome.jpg')",left:"url('./images/css3d/dome.jpg')",right:"url('./images/css3d/dome.jpg')",sky:"url('./images/css3d/dome.jpg')",ground:"url('./images/css3d/dome.jpg')"},animation:{dur:"120s",repeat:"infinite"}};
"use strict";var mf={faces:{front:"url('./images/css3d/mf.png')",back:"url('./images/css3d/mf.png')",left:"url('./images/css3d/mf.png')",right:"url('./images/css3d/mf.png')",sky:"url('./images/css3d/mf.png')",ground:"url('./images/css3d/mf.png')"},animation:{dur:"180s",repeat:"infinite"}};
"use strict";var red_moon={cube:{bg:"'rgba(200,0,0,0.3)"},faces:{front:"url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight.png')",back:"url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight.png')",left:"url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight.png')",right:"url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight.png')",sky:"url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight.png')",ground:"url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight.png')"},animation:{dur:"180s",repeat:"infinite"}};
"use strict";var red_moon_bg={cube:{bg:"url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight_corner.png' )"},faces:{front:"url('./images/css3d/moon_tr.png')",back:"url('./images/css3d/moon_tr.png')",left:"url('./images/css3d/moon_tr.png')",right:"url('./images/css3d/moon_tr.png')",sky:"url('./images/css3d/moon_tr.png')",ground:"url('./images/css3d/moon_tr.png')"},animation:{dur:"180s",repeat:"infinite"}};
"use strict";var test_bg={faces:{front:"url('./images/css3d/moon_tr.png'), radial-gradient(rgba(255,0,0,0.2), rgba(20,0,200,0.0) 80%)",back:"url('./images/css3d/moon_tr.png')",left:"url('./images/css3d/moon_tr.png'),radial-gradient(rgba(20,0,200,0.2), rgba(255,0,0,0.0) 80%)",right:"url('./images/css3d/moon_tr.png'),radial-gradient(rgba(20,0,200,0.2), rgba(255,0,0,0.0) 80%)",sky:"url('./images/css3d/moon_tr.png')",ground:"url('./images/css3d/moon_tr.png')"},cube:{perspective:"100px",perspective_origin:"200px 200px",bg:"linear-gradient(0deg, rgba(255,0,0,0.3), rgba(20,0,200,0.3) 80%), url('./images/css3d/moon_tr.png'), url('./images/css3d/redlight_corner.png')"},animation:{dur:"120s",repeat:"infinite"}};
"use strict";var vasarely={faces:{front:"url('./images/css3d/vasarely.png')",back:"url('./images/css3d/vasarely.png')",left:"url('./images/css3d/vasarely.png')",right:"url('./images/css3d/vasarely.png')",sky:"url('./images/css3d/vasarely.png')",ground:"url('./images/css3d/vasarely.png')"},cube:{},animation:{dur:"120s",repeat:"infinite"}};
"use strict";var mf_warp_img={faces:{front:"url('./images/css3d/mf.png')",back:"url('./images/css3d/mf.png')",left:"url('./images/css3d/mf.png')",right:"url('./images/css3d/mf.png')",sky:"url('./images/css3d/mf.png')",ground:"url('./images/css3d/mf.png')"},cube:{bg:"url('./images/css3d/mf.png')"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var mf_warp_lgrad={faces:{front:"url('./images/css3d/mf.png')",back:"url('./images/css3d/mf.png')",left:"url('./images/css3d/mf.png')",right:"url('./images/css3d/mf.png')",sky:"url('./images/css3d/mf.png')",ground:"url('./images/css3d/mf.png')"},cube:{bg:"linear-gradient(0deg, red, black 10%, violet 20%, black 80%)"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var mf_warp_rgrad={faces:{front:"url('./images/css3d/mf.png')",back:"url('./images/css3d/mf.png')",left:"url('./images/css3d/mf.png')",right:"url('./images/css3d/mf.png')",sky:"url('./images/css3d/mf.png')",ground:"url('./images/css3d/mf.png')"},cube:{bg:"radial-gradient(circle, red 20%, black 80%)"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var mf_warp_rp_lgrad={faces:{front:"url('./images/css3d/mf.png')",back:"url('./images/css3d/mf.png')",left:"url('./images/css3d/mf.png')",right:"url('./images/css3d/mf.png')",sky:"url('./images/css3d/mf.png')",ground:"url('./images/css3d/mf.png')"},cube:{bg:"repeating-linear-gradient(30deg, red, black 20%)"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var mf_warp_rp_rgrad={faces:{front:"url('./images/css3d/mf.png')",back:"url('./images/css3d/mf.png')",left:"url('./images/css3d/mf.png')",right:"url('./images/css3d/mf.png')",sky:"url('./images/css3d/mf.png')",ground:"url('./images/css3d/mf.png')"},cube:{bg:"repeating-radial-gradient(closest-corner, black, grey 5%, black 20%)"},animation:{dur:"90s",repeat:"infinite"}};
"use strict";var stratos={faces:{front:"url('./images/css3d/skybox/sky/sky_posZ.jpg')",back:"url('./images/css3d/skybox/sky/sky_negZ.jpg')",left:"url('./images/css3d/skybox/sky/sky_negX.jpg')",right:"url('./images/css3d/skybox/sky/sky_posX.jpg')",sky:"url('./images/css3d/skybox/sky/sky_posY.jpg')",ground:"url('./images/css3d/skybox/sky/sky_negY.jpg')"},cube:{perspective:"129px",perspective_origin:"30px 40px"},animation:{dur:"60s",repeat:"infinite"}};
"use strict";var defsuse0={actors:{defsuse:{du0:{form:{id:"#red-square",x:-10,y:-10,style:"stroke:blue ; stroke-width:1%"},transform:"scale(0.5)"},du1:{form:{id:"#green-square",x:-20,y:-20},transform:"scale(1.0)"}}}};
"use strict";var disks0={actors:{disks:{d0:{transform:"translate(20,20)",form:{r:"10",fill:"green",fill_opacity:"0.5",stroke:"orange",stroke_opacity:"0.5",stroke_width:"2",stroke_dasharray:"1,1"}},d1:{transform:"translate(25,25)",form:{r:"5",fill:"violet",fill_opacity:"0.5",stroke:"yellow",stroke_opacity:"0.5",stroke_width:"1",stroke_dasharray:"1,1"}}}}};
"use strict";var mf2d0={actors:{metaforms:{tree0:{form:{id:"#green-square"},transform:"scale(0.5)",children:{d0:{form:{id:"#red-disk"},transform:"translate(10,15)",children:{a:{form:{id:"#green-disk"},transform:"translate(-20,-30)",children:{a1:{form:{id:"#blue-disk"},transform:"translate(-10,-10)",children:{}}}}}},d1:{form:{id:"#blue-disk"},transform:"translate(15,25)",children:{}},d2:{form:{id:"#green-disk"},transform:"translate(20,35)",children:{}},d3:{form:{id:"#blue-disk"},transform:"translate(0,0)",children:{}}}}}}};
"use strict";var scene2d0={actors:{defsuse:{du0:{form:{id:"#red-square",x:-10,y:-10,style:"stroke:blue ; stroke-width:1%"},transform:"scale(0.5)"},du1:{form:{id:"#green-square",x:-20,y:-20},transform:"scale(1.0)"}},disks:{d0:{transform:"translate(20,20)",form:{r:"10",fill:"green",fill_opacity:"0.5",stroke:"orange",stroke_opacity:"0.5",stroke_width:"2",stroke_dasharray:"1,1"}},d1:{transform:"translate(25,25)",form:{r:"5",fill:"violet",fill_opacity:"0.5",stroke:"yellow",stroke_opacity:"0.5",stroke_width:"1",stroke_dasharray:"1,1"}}},metaforms:{tree0:{form:{id:"#green-square"},transform:"scale(0.5)",children:{0:{form:{id:"#red-disk"},transform:"translate(10,15)",children:{a:{form:{id:"#green-disk"},transform:"translate(-20,-30)",children:{a1:{form:{id:"#blue-disk"},transform:"translate(-10,-10)",children:{}}}}}},1:{form:{id:"#blue-disk"},transform:"translate(15,25)",children:{}},2:{form:{id:"#green-disk"},transform:"translate(20,35)",children:{}},3:{id:"#blue-disk",transform:"translate(0,0)",children:{}}}}}}};
"use strict";var phongballchair_kfb={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{key:{form:{type:"'pointlight.i3d'",color:"orange",intensity:2.5,distance:100},transform:{t:[50,20,0]}},fill:{form:{type:"'pointlight.i3d'",color:"blue",intensity:1,distance:100},transform:{t:[-50,-10,0]}},back:{form:{type:"'pointlight.i3d'",color:"grey",intensity:2.5,distance:100},transform:{t:[-40,-10,-50]}}}}},axes:{axes0:{form:{length:3e3}}},jsonmodels:{ball_chair:{form:{type:"'jsonmodel.i3d'",jsonmodel_url:"../models2/ball_chair/ball_chair.js",color:"white",phong:!0,specular_color:"orange",shininess:5},transform:{t:[0,-25,-10],e:[0,.185,0],s:[10,10,10]},children:{}}}}};
"use strict";var phonghead_kfb={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{key:{form:{type:"'pointlight.i3d'",color:"orange",intensity:2.5,distance:100},transform:{t:[50,20,0]}},fill:{form:{type:"'pointlight.i3d'",color:"blue",intensity:.8,distance:100},transform:{t:[-50,-10,0]}},back:{form:{type:"'pointlight.i3d'",color:"grey",intensity:2.5,distance:100},transform:{t:[-40,-10,-50]}}}}},axes:{axes0:{form:{length:3e3}}},jsonmodels:{head_scan:{form:{type:"'jsonmodel.i3d'",jsonmodel_url:"./webgl/models/head_scan/head_scan.js",color:"white",phong:!0,specular_color:"orange",shininess:3},transform:{t:[0,0,-10],e:[0,.185,0],s:[10,10,10]},children:{}}}}};
"use strict";var phongstatue_kfb={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{key:{form:{type:"'pointlight.i3d'",color:"orange",intensity:2.5,distance:100},transform:{t:[50,20,0]}},fill:{form:{type:"'pointlight.i3d'",color:"blue",intensity:1,distance:100},transform:{t:[-50,-10,0]}},back:{form:{type:"'pointlight.i3d'",color:"grey",intensity:2.5,distance:100},transform:{t:[-40,-10,-50]}}}}},axes:{axes0:{form:{length:3e3}}},jsonmodels:{statue:{form:{type:"'jsonmodel.i3d'",jsonmodel_url:"../models2/statue/lucy.js",color:"white",phong:!0,specular_color:"orange",shininess:5},transform:{t:[0,0,0],e:[0,.185,0],s:[.05,.05,.05]},children:{}}}}};
"use strict";var billboards81={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"red"},transform:{t:[0,0,0]},children:{}}},billboards:{bb_singular:{form:{textureurl:"./images/snow_posZ.jpg",w:50,h:50,aspect:!0},transform:{t:[20,20,-10]}},bb_singular2:{form:{textureurl:"sky_jpg",w:50,h:50,aspect:!0},transform:{t:[25,25,0]}},bb0:{form:{textureurl:"Escher_png",w:50,h:50,aspect:!0},transform:{t:[0,0,0]}},bb1:{form:{textureurl:"Escher_png",w:50,h:50,aspect:!0},transform:{t:[0,-100,0]}},bb2:{form:{textureurl:"glad_png",w:50,h:50,aspect:!0},transform:{t:[0,100,0]}},bb3:{form:{textureurl:"p2_jpg",w:50,h:50,aspect:!0},transform:{t:[-100,0,0]}},bb4:{form:{textureurl:"sky_jpg",w:50,h:50,aspect:!0},transform:{t:[100,0,0]}},bb5:{form:{textureurl:"Escher_png",w:50,h:50,aspect:!0},transform:{t:[-100,100,0]}},bb6:{form:{textureurl:"glad_png",w:50,h:50,aspect:!0},transform:{t:[100,100,0]}},bb7:{form:{textureurl:"p2_jpg",w:50,h:50,aspect:!0},transform:{t:[-100,-100,0]}},bb8:{form:{textureurl:"sky_jpg",w:50,h:50,aspect:!0},transform:{t:[100,-100,0]}},bb9:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[300,300,0]}},bb10:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[300,200,0]}},bb11:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[300,400,0]}},bb12:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[200,300,0]}},bb13:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[400,300,0]}},bb14:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[200,400,0]}},bb15:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[400,400,0]}},bb16:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[200,200,0]}},bb17:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[400,200,0]}},bb18:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[300,0,0]}},bb19:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[300,-100,0]}},bb20:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[300,100,0]}},bb21:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[200,0,0]}},bb22:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[400,0,0]}},bb23:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[200,100,0]}},bb24:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[400,100,0]}},bb25:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[200,-100,0]}},bb26:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[400,-100,0]}},bb27:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[300,-300,0]}},bb28:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[300,-400,0]}},bb29:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[300,-200,0]}},bb30:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[200,-300,0]}},bb31:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[400,-300,0]}},bb32:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[200,-200,0]}},bb33:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[400,-200,0]}},bb34:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[200,-400,0]}},bb35:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[400,-400,0]}},bb36:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[0,300,0]}},bb37:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[0,200,0]}},bb38:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[0,400,0]}},bb39:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-100,300,0]}},bb40:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[100,300,0]}},bb41:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-100,400,0]}},bb42:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[100,400,0]}},bb43:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-100,200,0]}},bb44:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[100,200,0]}},bb45:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[0,-300,0]}},bb46:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[0,-400,0]}},bb47:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[0,-200,0]}},bb48:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-100,-300,0]}},bb49:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[100,-300,0]}},bb50:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-100,-200,0]}},bb51:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[100,-200,0]}},bb52:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-100,-400,0]}},bb53:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[100,-400,0]}},bb54:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-300,-0,0]}},bb55:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-300,-100,0]}},bb56:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[-300,100,0]}},bb57:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-400,0,0]}},bb58:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[-200,0,0]}},bb59:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-400,100,0]}},bb60:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[-200,100,0]}},bb61:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-400,-100,0]}},bb62:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[-200,-100,0]}},bb63:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-300,300,0]}},bb64:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-300,200,0]}},bb65:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[-300,400,0]}},bb66:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-400,300,0]}},bb67:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[-200,300,0]}},bb68:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-400,400,0]}},bb69:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[-200,400,0]}},bb70:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-400,200,0]}},bb71:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[-200,200,0]}},bb72:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-300,-300,0]}},bb73:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-300,-400,0]}},bb74:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[-300,-200,0]}},bb75:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-400,-300,0]}},bb76:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[-200,-300,0]}},bb77:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-400,-200,0]}},bb78:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[-200,-200,0]}},bb79:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-400,-400,0]}},bb80:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[-200,-400,0]}}}}};
"use strict";var mf0={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"red"},transform:{t:[0,0,0]},children:{}}},metaforms:{tree1:{form:{type:"'sphere.i3d'",textureurl:"glad_png",r:4,wsegments:20,hsegments:20,color:"white"},transform:{t:[10,10,0]},children:{sphere0:{form:{type:"'sphere.i3d'",textureurl:"glad_png",r:4,wsegments:20,hsegments:20,color:"white"},transform:{t:[10,10,0]}},sphere1:{form:{type:"'sphere.i3d'",r:4,wsegments:20,hsegments:20,opacity:.5,color:"red",transparent:!0},transform:{t:[10,-10,0]}},sphere2:{form:{type:"'sphere.i3d'",r:16,wsegments:20,hsegments:20,opacity:.5,color:"red",transparent:!0},transform:{t:[-10,10,0]}}}},tree0:{form:{type:"'cube.i3d'",textureurl:"sky_jpg",w:20,h:20,d:20,opacity:1,color:"blue"},transform:{t:[-30,0,0]},children:{bb_0:{form:{type:"'billboard.i3d'",textureurl:"sky_jpg",w:10,h:10,aspect:!0},children:{bb_0_0:{form:{type:"'billboard.i3d'",textureurl:"glad_png",w:10,h:10,aspect:!0},transform:{t:[20,10,0]}},bb_0_1:{form:{type:"'billboard.i3d'",textureurl:"glad_png",w:10,h:10,aspect:!0},transform:{t:[10,-10,0]}},bb_0_2:{form:{type:"'billboard.i3d'",textureurl:"glad_png",w:10,h:10,aspect:!0},transform:{t:[10,20,0]}}}}}}}}};
"use strict";var mf1={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"red"},transform:{t:[0,0,0]},children:{}}},metaforms:{tree0:{form:{type:"'cube.i3d'",visible:!0,wireframe:!0,transparent:!1,opacity:1,color:"red"},transform:{t:[0,0,0]},children:{alpha:{form:{type:"'cube.i3d'",visible:!0,wireframe:!0,transparent:!1,opacity:.6,color:"green"},transform:{t:[20,0,0]},children:{}},beta:{form:{type:"'cube.i3d'",visible:!0,wireframe:!0,transparent:!1,opacity:1,color:"blue"},transform:{t:[0,20,0]},children:{delta1:{form:{type:"'cube.i3d'",visible:!0,wireframe:!0,transparent:!1,opacity:1,color:"yellow"},transform:{t:[20,20,0]},children:{}},delta2:{form:{type:"'cube.i3d'",visible:!0,wireframe:!0,transparent:!1,opacity:1,color:"violet"},transform:{t:[-20,-20,0]},children:{}}}},gamma:{form:"'cube.i3d'",visible:!0,wireframe:!0,transparent:!1,opacity:1,color:"orange",transform:{t:[-20,0,0]},children:{}}}}}}};
"use strict";var mf2={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"red"},transform:{t:[0,0,0]},children:{}}},metaforms:{tree0:{form:{type:"'cube.i3d'",textureurl:"sky_jpg",w:20,h:20,d:20,opacity:1,color:"blue",visible:!0},transform:{t:[0,0,0]},children:{alpha:{form:{type:"'cube.i3d'",width:10,height:30,depth:10,visible:!0,transparent:!1,opacity:.6,color:"green"},transform:{t:[0,20,0]},children:{}},beta:{form:{type:"'cube.i3d'",width:10,height:10,depth:10,visible:!0,wireframe:!0,opacity:1,color:"blue"},transform:{t:[-20,-20,0]},children:{gamma:{form:{type:"'cube.i3d'",width:10,height:30,depth:10,visible:!0,wireframe:!0,opacity:1,color:"red"},transform:{t:[20,0,0]},children:{}}}}}}}}};
"use strict";var scene0={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"red"},transform:{t:[0,0,0]},children:{}}},metaforms:{tree0:{form:{type:"'cube.i3d'",textureurl:"./images/sky.jpg",w:20,h:20,d:20,opacity:1,color:"blue",visible:!0},transform:{t:[0,0,0]},children:{alpha:{form:{type:"'cube.i3d'",width:10,height:30,depth:10,visible:!0,transparent:!1,opacity:.6,color:"green"},transform:{t:[0,20,0]},children:{}},beta:{form:{type:"'cube.i3d'",width:10,height:10,depth:10,visible:!0,wireframe:!0,opacity:1,color:"blue"},transform:{t:[-20,-20,0]},children:{gamma:{form:{type:"'cube.i3d'",width:10,height:30,depth:10,visible:!0,wireframe:!0,opacity:1,color:"red"},transform:{t:[20,0,0]},children:{}}}}}}},axes:{axes0:{form:{length:3e3}}},alights:{alight0:{form:{color:"0x000022"}},alight1:{form:{color:"0xff0000"}}},dlights:{dlight0:{form:{color:"0xffffff",directionx:1,directiony:1,directionz:1}},dlight1:{form:{color:"0x002288",directionx:-1,directiony:-1,directionz:-1}},dlight2:{form:{color:"0x00ff00",directionx:1,directiony:-1,directionz:-1}}},cubes:{cube0:{form:{type:"'cube.i3d'",x:0,y:0,z:0,textureurl:"./images/sky.jpg",w:20,h:20,d:20},transform:{t:[0,25,0],e:[0,.785,0],s:[1,2,1]},children:{}}},spheres:{sphere0:{form:{textureurl:"glad_png",r:4,wsegments:20,hsegments:20,color:"white"},transform:{t:[10,10,0]}},sphere1:{form:{r:4,wsegments:20,hsegments:20,opacity:.5,color:"red",transparent:!0},transform:{t:[10,-10,0]}},sphere2:{form:{r:16,wsegments:20,hsegments:20,opacity:.5,color:"red",transparent:!0},transform:{t:[-10,10,0]}}},billboards:{bb_singular:{form:{textureurl:"./images/snow_posZ.jpg",width:50,height:50,aspect:!0},transform:{t:[20,20,-10]}}}}};
"use strict";var scene1={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"red"},transform:{t:[0,0,0]},children:{}}},billboards:{bb_singular:{form:{textureurl:"./images/snow_posZ.jpg",w:50,h:50,aspect:!0},transform:{t:[20,20,-10]}},bb_singular2:{form:{textureurl:"sky_jpg",w:50,h:50,aspect:!0},transform:{t:[25,25,0]}},bb0:{form:{textureurl:"Escher_png",w:50,h:50,aspect:!0},transform:{t:[0,0,0]}},bb1:{form:{textureurl:"Escher_png",w:50,h:50,aspect:!0},transform:{t:[0,-100,0]}},bb2:{form:{textureurl:"glad_png",w:50,h:50,aspect:!0},transform:{t:[0,100,0]}},bb3:{form:{textureurl:"p2_jpg",w:50,h:50,aspect:!0},transform:{t:[-100,0,0]}},bb4:{form:{textureurl:"sky_jpg",w:50,h:50,aspect:!0},transform:{t:[100,0,0]}},bb5:{form:{textureurl:"Escher_png",w:50,h:50,aspect:!0},transform:{t:[-100,100,0]}},bb6:{form:{textureurl:"glad_png",w:50,h:50,aspect:!0},transform:{t:[100,100,0]}},bb7:{form:{textureurl:"p2_jpg",w:50,h:50,aspect:!0},transform:{t:[-100,-100,0]}},bb8:{form:{textureurl:"sky_jpg",w:50,h:50,aspect:!0},transform:{t:[100,-100,0]}},bb18:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[300,0,0]}},bb19:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[300,-100,0]}},bb20:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[300,100,0]}},bb21:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[200,0,0]}},bb22:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[400,0,0]}},bb23:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[200,100,0]}},bb24:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[400,100,0]}},bb25:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[200,-100,0]}},bb26:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[400,-100,0]}},bb54:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-300,-0,0]}},bb55:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-300,-100,0]}},bb56:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[-300,100,0]}},bb57:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-400,0,0]}},bb58:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[-200,0,0]}},bb59:{form:{textureurl:"Escher_png",width:50,height:50,aspect:!0},transform:{t:[-400,100,0]}},bb60:{form:{textureurl:"glad_png",width:50,height:50,aspect:!0},transform:{t:[-200,100,0]}},bb61:{form:{textureurl:"p2_jpg",width:50,height:50,aspect:!0},transform:{t:[-400,-100,0]}},bb62:{form:{textureurl:"sky_jpg",width:50,height:50,aspect:!0},transform:{t:[-200,-100,0]}}}}};
"use strict";var phong_head_sphere_kfb={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{key:{form:{type:"'pointlight.i3d'",color:"orange",intensity:2.5,distance:100},transform:{t:[50,20,0]}},fill:{form:{type:"'pointlight.i3d'",color:"blue",intensity:1,distance:100},transform:{t:[-50,-10,0]}},back:{form:{type:"'pointlight.i3d'",color:"grey",intensity:2.5,distance:100},transform:{t:[-40,-10,-50]}}}}},axes:{axes0:{form:{length:3e3}}},jsonmodels:{head_scan:{form:{type:"'jsonmodel.i3d'",jsonmodel_url:"./webgl/models/head_scan/head_scan.js",color:"white",phong:!0,specular_color:"orange",shininess:3},transform:{t:[0,-12,0],e:[0,.185,0],s:[8,8,8]},children:{}}},spheres:{sphere_phong:{form:{type:"'sphere.i3d'",color:"white",phong:!0,specular_color:"orange",shininess:5,r:10,wsegments:60,hsegments:60},transform:{t:[0,30,0]},children:{}}}}};
"use strict";var simple_blue={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"blue"},transform:{t:[0,0,0]},children:{}}},axes:{axesorigin:{form:{length:3e3}},axes1:{form:{length:3e3},transform:{t:[10,20,0],e:[0,.3,0]}}},dlights:{dlight0:{form:{color:"blue",directionx:1,directiony:1,directionz:1},transform:{t:[10,40,0]}},dlight1:{form:{color:"red",directionx:-1,directiony:-1,directionz:-1}},dlight2:{form:{color:"#00ff00",directionx:1,directiony:-1,directionz:-1}}},cubes:{cube0:{form:{type:"'cube.i3d'",textureurl:"./images/glad.png",w:20,h:20,d:20},transform:{t:[0,25,0],e:[0,.785,0],s:[1,2,1]},children:{}}}}};
"use strict";var simple_green={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{}}},axes:{axes0:{form:{length:3e3}}},cubes:{cube0:{form:{type:"'cube.i3d'",textureurl:"./images/sky.jpg",w:10,h:10,d:10},transform:{t:[0,25,0],e:[0,.785,0],s:[.5,1,.5]},children:{}}}}};
"use strict";var simple_green_empty={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{}}},axes:{axes0:{form:{length:3e3}}}}};
"use strict";var simple_phong={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{key:{form:{type:"'spotlight.i3d'",color:"orange",intensity:2.5,distance:30},transform:{t:[20,20,20]}},fill:{form:{type:"'spotlight.i3d'",color:"blue",intensity:.8,distance:30},transform:{t:[-20,-10,20]}},back:{form:{type:"'pointlight.i3d'",color:"grey",intensity:2,distance:50},transform:{t:[-40,0,-20]}}}}},axes:{axes0:{form:{length:3e3}}},spheres:{sphere_phong:{form:{type:"'sphere.i3d'",color:"white",phong:!0,specular_color:"white",shininess:2,r:10,wsegments:60,hsegments:60},transform:{t:[0,0,0]},children:{}}}}};
"use strict";var simple_phong1={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{key:{form:{type:"'pointlight.i3d'",color:"orange",intensity:1,distance:100},transform:{t:[50,0,0]}},fill:{form:{type:"'pointlight.i3d'",color:"blue",intensity:1,distance:100},transform:{t:[-50,0,0]}}}}},axes:{axes0:{form:{length:3e3}}},spheres:{sphere_phong:{form:{type:"'sphere.i3d'",color:"white",phong:!0,specular_color:"orange",shininess:5,r:10,wsegments:60,hsegments:60},transform:{t:[0,0,0]},children:{}}}}};
"use strict";var simple_phong_kfb={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"green"},transform:{t:[0,0,0]},children:{key:{form:{type:"'pointlight.i3d'",color:"orange",intensity:2.5,distance:100},transform:{t:[50,20,0]}},fill:{form:{type:"'pointlight.i3d'",color:"blue",intensity:1,distance:100},transform:{t:[-50,-10,0]}},back:{form:{type:"'pointlight.i3d'",color:"grey",intensity:2.5,distance:100},transform:{t:[-40,-10,-50]}}}}},axes:{axes0:{form:{length:3e3}}},spheres:{sphere_phong:{form:{type:"'sphere.i3d'",color:"white",phong:!0,specular_color:"orange",shininess:5,r:10,wsegments:60,hsegments:60},transform:{t:[0,0,0]},children:{}}}}};
"use strict";var simple_red={actors:{camerasphere:{csphere:{form:{r:50,visible:!0,wireframe:!0,transparent:!0,opacity:1,color:"red"},transform:{t:[0,0,0]},children:{}}},cubes:{cube0:{form:{type:"'cube.i3d'",textureurl:"sky_jpg",w:20,h:20,d:20},transform:{t:[0,15,0],e:[0,.785,0],s:[1,1,1]},children:{cube0_0:{form:{type:"'cube.i3d'",textureurl:"glad_png",w:10,h:10,d:10},transform:{t:[20,25,0],s:[2,2,1]},children:{}},cube0_1:{form:{type:"'cube.i3d'",color:"green",wireframe:!0,w:10,h:10,d:10},transform:{t:[-20,25,0],e:[0,.785,0]},children:{}}}}}}};
"use strict";var s0={delta:{branches:{},timeline:{p:{repeat:-1,yoyo:!0},actors:{"base:cube":[{dur:60,p:{rotationY:"360",delay:0}},{dur:30,p:{rotationZ:"-360",delay:30}}],"i2d:zoom_plane":[{dur:30,p:{scale:.5,svgOrigin:"0% 0%"}},{dur:30,p:{rotation:90,svgOrigin:"0% 0%",delay:30}}],"i2d:c":[{dur:30,p:{bezier:{autoRotate:!0,curviness:2,values:[{x:0,y:0},{x:10,y:-10},{x:10,y:0},{x:10,y:10},{x:0,y:10},{x:0,y:0}]}}}]}}}};
"use strict";var a0={delta:{timeline:[{id:"cube0_1",dur:10,p:{scale:[1,1,1]},delay:2}],branches:{cube0:{children:{cube0_2:{form:{type:"'cube.i3d'",x:0,y:0,z:0,textureurl:"./images/sky.jpg",w:20,h:20,d:20,color:"blue",transparent:!0,opacity:1},transform:{t:[-20,-10,0],s:[.25,1,.25]},children:{}},cube0_3:{form:{type:"'cube.i3d'",x:0,y:-20,z:0,textureurl:"sky_jpg",w:20,h:40,d:20,color:"blue",transparent:!0,opacity:1},transform:{t:[20,0,0],s:[.5,1,.5]},children:{}}}}}}};
"use strict";var a0json=JSON.stringify({delta:{timeline:{},branches:{cube0:{children:{cube0_2:{form:{type:"'cube.i3d'",x:0,y:0,z:0,textureurl:"./images/sky.jpg",w:20,h:20,d:20,color:"blue",transparent:!0,opacity:1},transform:{t:[-20,-10,0],s:[.25,1,.25]},children:{}},cube0_3:{form:{type:"'cube.i3d'",x:0,y:-20,z:0,textureurl:"sky_jpg",w:20,h:40,d:20,color:"blue",transparent:!0,opacity:1},transform:{t:[20,0,0],s:[.5,1,.5]},children:{}}}}}}});
"use strict";var a1json=JSON.stringify({delta:{timeline:{},branches:{cube0_2:{children:{s0_2_0:{form:{type:"'sphere.i3d'",r:5,color:"blue",transparent:!0,opacity:.8},transform:{e:[0,-.785,0],t:[-15,-10,10],s:[1,1,1]},children:{}},s0_2_1:{form:{type:"'sphere.i3d'",r:5,color:"blue",transparent:!0,opacity:.8},transform:{e:[0,.785,0],t:[15,10,10],s:[1,1,1]},children:{}}}}}}});
"use strict";var cube0json=JSON.stringify({delta:{timeline:{},branches:{i3d:{children:{cube0:{form:{type:"'cube.i3d'",x:0,y:0,z:0,textureurl:"./images/sky.jpg",w:10,h:10,d:10,color:"blue",transparent:!0,opacity:1},transform:{t:[-10,-10,0],s:[1,1,1]},children:{}}}}}}});
"use strict";var growa0json=JSON.stringify({delta:{timeline:{p:{repeat:0},actors:{"i3d:cube0:scale":[{dur:10,p:{x:.5,y:.5,z:.5}}]}},branches:{cube0:{children:{cube0_2:{form:{type:"'cube.i3d'",x:0,y:0,z:0,textureurl:"./images/sky.jpg",w:5,h:10,d:10,color:"blue",transparent:!0,opacity:1},transform:{t:[-20,-10,0],s:[.01,.01,.01]},children:{}},cube0_3:{form:{type:"'cube.i3d'",x:0,y:-20,z:0,textureurl:"sky_jpg",w:5,h:10,d:10,color:"blue",transparent:!0,opacity:1},transform:{t:[20,0,0],s:[.01,.01,.01]},children:{}}}}}}});
"use strict";var growa1json=JSON.stringify({delta:{timeline:{p:{repeat:0},actors:{"i3d:cube0_2:scale":[{dur:10,p:{x:1,y:1,z:1}}],"i3d:cube0_3:scale":[{dur:10,p:{x:1,y:1,z:1}}]}},branches:{cube0_2:{children:{s0_2_0:{form:{type:"'sphere.i3d'",r:5,color:"blue",transparent:!0,opacity:.8},transform:{e:[0,-.785,0],t:[-10,-10,0],s:[.01,.01,.01]},children:{}},s0_2_1:{form:{type:"'sphere.i3d'",r:5,color:"blue",transparent:!0,opacity:.8},transform:{e:[0,.785,0],t:[10,10,0],s:[.01,.01,.01]},children:{}}}}}}});
"use strict";var growa2json=JSON.stringify({delta:{timeline:{p:{repeat:0},actors:{"i3d:s0_2_0:scale":[{dur:10,p:{x:1,y:1,z:1}}],"i3d:s0_2_1:scale":[{dur:10,p:{x:1,y:1,z:1}}]}},branches:{}}});
"use strict";var moon={faces:{front:"url('./images/css3d/skybox/moon/grimnight_posZ.png')",back:"url('./images/css3d/skybox/moon/grimnight_negZ.png')",left:"url('./images/css3d/skybox/moon/grimnight_negX.png')",right:"url('./images/css3d/skybox/moon/grimnight_posX.png')",sky:"url('./images/css3d/skybox/moon/grimnight_posY.png')",ground:"url('./images/css3d/skybox/moon/grimnight_negY.png')"},animation:{dur:"300s",repeat:"infinite"}};
"use strict";var sky={faces:{front:"url('./images/css3d/skybox/sky/sky_posZ.jpg')",back:"url('./images/css3d/skybox/sky/sky_negZ.jpg')",left:"url('./images/css3d/skybox/sky/sky_negX.jpg')",right:"url('./images/css3d/skybox/sky/sky_posX.jpg')",sky:"url('./images/css3d/skybox/sky/sky_posY.jpg')",ground:"url('./images/css3d/skybox/sky/sky_negY.jpg')"},animation:{dur:"300s",repeat:"infinite"}};
"use strict";var snow={faces:{front:"url('./images/css3d/skybox/snow/snow_posZ.jpg')",back:"url('./images/css3d/skybox/snow/snow_negZ.jpg')",left:"url('./images/css3d/skybox/snow/snow_negX.jpg')",right:"url('./images/css3d/skybox/snow/snow_posX.jpg')",sky:"url('./images/css3d/skybox/snow/snow_posY.jpg')",ground:"url('./images/css3d/skybox/snow/snow_negY.jpg')"},animation:{dur:"120s",repeat:"infinite"}};
"use strict";var space={faces:{front:"url('./images/css3d/skybox/space/space_posZ.jpg')",back:"url('./images/css3d/skybox/space/space_negZ.jpg')",left:"url('./images/css3d/skybox/space/space_negX.jpg')",right:"url('./images/css3d/skybox/space/space_posX.jpg')",sky:"url('./images/css3d/skybox/space/space_posY.jpg')",ground:"url('./images/css3d/skybox/space/space_negY.jpg')"},animation:{dur:"300s",repeat:"infinite"}};